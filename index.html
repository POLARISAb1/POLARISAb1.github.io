<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="我就是这条街最靓的仔">
<meta property="og:type" content="website">
<meta property="og:title" content="杨艺琳的博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="杨艺琳的博客">
<meta property="og:description" content="我就是这条街最靓的仔">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="杨艺琳">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>杨艺琳的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">杨艺琳的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">放弃不难<br>但坚持一定很酷</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/01/25-%E6%9F%90%E7%9F%A5%E5%90%8D%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/01/25-%E6%9F%90%E7%9F%A5%E5%90%8D%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98/" class="post-title-link" itemprop="url">25.某知名网站测试实战</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-01 17:38:01" itemprop="dateCreated datePublished" datetime="2022-04-01T17:38:01+08:00">2022-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-02 18:00:02" itemprop="dateModified" datetime="2022-04-02T18:00:02+08:00">2022-04-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="手动测试实战"><a href="#手动测试实战" class="headerlink" title="手动测试实战"></a>手动测试实战</h1><h2 id="1-项目背景"><a href="#1-项目背景" class="headerlink" title="1. 项目背景"></a>1. 项目背景</h2><p>企业微信web端：<a target="_blank" rel="noopener" href="https://work.weixin.qq.com/">https://work.weixin.qq.com/</a></p>
<p><img src="/2022/04/01/25-%E6%9F%90%E7%9F%A5%E5%90%8D%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98/image-20220401175440411.png" alt="image-20220401175440411"></p>
<h2 id="2-项目流程"><a href="#2-项目流程" class="headerlink" title="2. 项目流程"></a>2. 项目流程</h2><p>Web测试流程：</p>
<ol>
<li>需求分析</li>
<li>测试计划编写</li>
<li>测试用例编写</li>
<li>用例执行</li>
<li>回归测试</li>
<li>兼容性测试</li>
<li>安全测试</li>
<li>走查验收（UI、产品）</li>
<li>测试总结报告</li>
</ol>
<h2 id="3-需求分析"><a href="#3-需求分析" class="headerlink" title="3. 需求分析"></a>3. 需求分析</h2><img src="/2022/04/01/25-%E6%9F%90%E7%9F%A5%E5%90%8D%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98/image-20220401221132921.png" alt="image-20220401221132921" style="zoom: 80%;">

<h3 id="需求分析步骤"><a href="#需求分析步骤" class="headerlink" title="需求分析步骤"></a>需求分析步骤</h3><ol>
<li>明确测试范围</li>
<li>明确功能点</li>
<li>明确业务流程</li>
<li>明确输出结果</li>
<li>分析异常流程</li>
<li>预估测试需要的时间和资源</li>
</ol>
<h2 id="4-测试计划编写"><a href="#4-测试计划编写" class="headerlink" title="4. 测试计划编写"></a>4. 测试计划编写</h2><h3 id="4-1-测试计划作用"><a href="#4-1-测试计划作用" class="headerlink" title="4.1 测试计划作用"></a>4.1 测试计划作用</h3><ul>
<li>方便宏观调控，进行相应资源配置</li>
<li>方便了解整个项目测试情况以及项目测试不同阶段的所要进行的工作</li>
</ul>
<h3 id="4-2-测试计划编写要点"><a href="#4-2-测试计划编写要点" class="headerlink" title="4.2 测试计划编写要点"></a>4.2 测试计划编写要点</h3><p><strong>5W+H 原则</strong></p>
<ul>
<li>why：为什么要进行这些测试</li>
<li>what：测试哪些方面，不同阶段的工作内容</li>
<li>when：测试不同阶段的起止时间</li>
<li>where：相应文档，缺陷的存放位置，测试环境等</li>
<li>who：项目有关人员组成，安排哪些测试人员进行测试</li>
<li>how：如何去做，使用哪些测试工具以及测试方法进行测试</li>
</ul>
<h2 id="5-测试设计"><a href="#5-测试设计" class="headerlink" title="5. 测试设计"></a>5. 测试设计</h2><h3 id="测试用例设计步骤"><a href="#测试用例设计步骤" class="headerlink" title="测试用例设计步骤"></a>测试用例设计步骤</h3><ol>
<li>划分功能模块</li>
<li>正向功能验证</li>
<li>单个功能项验证</li>
<li>功能之间交互验证</li>
<li>隐形需求</li>
</ol>
<p>测试用例评审</p>
<ul>
<li>测试用例的本身的描述是否清晰，是否存在歧义</li>
<li>测试用例内容是否正确，是否与需求目标相一致</li>
<li>测试用例的期望结果是否确定、唯一</li>
<li>测试用例是否覆盖了所有的需求</li>
<li>测试用例是否具有可执行性</li>
<li>是否从用户层面来设计用户使用场景和业务流程的测试用例</li>
<li>场景测试用例是否覆盖最复杂的业务流程</li>
<li>·用例设计是否包含了正面、反面的用例</li>
</ul>
<h2 id="6-测试执行"><a href="#6-测试执行" class="headerlink" title="6. 测试执行"></a>6. 测试执行</h2><h3 id="6-1-提测"><a href="#6-1-提测" class="headerlink" title="6.1 提测"></a>6.1 提测</h3><p>web提测方式：开发提供测试环境地址<br>测试地址：<a target="_blank" rel="noopener" href="https://work.weixin.qq.com/wework_admin/frame#contacts">https://work.weixin.qq.com/wework_admin/frame#contacts</a></p>
<h3 id="6-2-bug定位"><a href="#6-2-bug定位" class="headerlink" title="6.2 bug定位"></a>6.2 bug定位</h3><ul>
<li>前端错误：查看前端源码</li>
<li>通过分析网络数据<ul>
<li>响应数据错误，服务端问题</li>
<li>响应数据正确，但是前端展示错误，前端问题</li>
<li>响应数据与自己操作不一致，查询数据库确认</li>
</ul>
</li>
<li>服务端错误：根据后台日志分析定位</li>
</ul>
<h3 id="6-3-兼容性测试"><a href="#6-3-兼容性测试" class="headerlink" title="6.3 兼容性测试"></a>6.3 兼容性测试</h3><h4 id="（1）浏览器兼容"><a href="#（1）浏览器兼容" class="headerlink" title="（1）浏览器兼容"></a>（1）浏览器兼容</h4><p><img src="/2022/04/01/25-%E6%9F%90%E7%9F%A5%E5%90%8D%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98/image-20220402163633102.png" alt="image-20220402163633102"></p>
<h4 id="（2）-操作系统兼容"><a href="#（2）-操作系统兼容" class="headerlink" title="（2） 操作系统兼容"></a>（2） 操作系统兼容</h4><img src="/2022/04/01/25-%E6%9F%90%E7%9F%A5%E5%90%8D%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98/image-20220402164559436.png" alt="image-20220402164559436" style="zoom:43%;">

<h4 id="（3）分辨率兼容"><a href="#（3）分辨率兼容" class="headerlink" title="（3）分辨率兼容"></a>（3）分辨率兼容</h4><img src="/2022/04/01/25-%E6%9F%90%E7%9F%A5%E5%90%8D%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98/image-20220402164842848.png" alt="image-20220402164842848" style="zoom:50%;">

<h3 id="6-4-兼容测试工具"><a href="#6-4-兼容测试工具" class="headerlink" title="6.4 兼容测试工具"></a>6.4 兼容测试工具</h3><ul>
<li><p>IETester：可以方便的解决IE浏览器的兼容问题</p>
</li>
<li><p>Browsershots：一个在线测试工具，支持很多浏览器</p>
</li>
<li><p>开发者工具：Toggle device toolbar</p>
<ul>
<li>模拟移动设备界面</li>
<li>自定义设备</li>
<li>旋转屏幕</li>
<li>生成页面快照</li>
<li>显示标尺</li>
<li>缩放视图</li>
<li>限制网络流量和CPU占用率</li>
</ul>
<p>  <img src="/2022/04/01/25-%E6%9F%90%E7%9F%A5%E5%90%8D%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98/image-20220402174339810.png" alt="image-20220402174339810"></p>
</li>
</ul>
<h3 id="6-5-性能测试"><a href="#6-5-性能测试" class="headerlink" title="6.5 性能测试"></a>6.5 性能测试</h3><ul>
<li><p>web页面响应时间</p>
</li>
<li><p>负载测试：测量Web系统在某一负载级</p>
<p>  别上的性能，以保证Web系统在需求范</p>
<p>  围内能正常工作</p>
</li>
<li><p>压力测试：测试Web应用系统会不会崩</p>
<p>  溃，在什么情况下会崩溃</p>
</li>
<li><p>测试方法：</p>
<ul>
<li>开发者工具-NetWork</li>
<li>JMeter</li>
</ul>
</li>
</ul>
<h3 id="6-6-安全测试"><a href="#6-6-安全测试" class="headerlink" title="6.6 安全测试"></a>6.6 安全测试</h3><ul>
<li>SQL注入：将SQL语句添加到输入参数中，传递到服务端解析并执行的一种攻击手法</li>
<li>XSS跨站攻击：恶意攻击者往web页面插入恶意脚本代码</li>
</ul>
<h2 id="7-测试总结"><a href="#7-测试总结" class="headerlink" title="7. 测试总结"></a>7. 测试总结</h2><p><strong>总结要点</strong></p>
<ul>
<li>人力投入</li>
<li>用例覆盖情况</li>
<li>Bug的分类及数量统计</li>
<li>遗留Bug情况</li>
<li>测试风险</li>
<li>测试结论</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" class="post-title-link" itemprop="url">web自动化测试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-30 10:59:02" itemprop="dateCreated datePublished" datetime="2022-03-30T10:59:02+08:00">2022-03-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-11 21:26:46" itemprop="dateModified" datetime="2022-04-11T21:26:46+08:00">2022-04-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-Selenium的安装"><a href="#1-Selenium的安装" class="headerlink" title="1. Selenium的安装"></a>1. Selenium的安装</h1><h2 id="1-1-Selenium的简介"><a href="#1-1-Selenium的简介" class="headerlink" title="1.1 Selenium的简介"></a>1.1 Selenium的简介</h2><ul>
<li>官方网站：<br>  <a target="_blank" rel="noopener" href="https://www.selenium.dev/">https://www.selenium.dev/</a></li>
<li>简介<ul>
<li>用于web浏览器测试的工具</li>
<li>支持的浏览器包括IE，Firefox，Safari，Chrome，Edge等</li>
<li>使用简单，可使用Java，Python等多种语言编写用例脚本</li>
<li>主要由三个工具构成：WebDriver、IDE、Grid</li>
</ul>
</li>
</ul>
<h2 id="1-2-Selenium架构"><a href="#1-2-Selenium架构" class="headerlink" title="1.2 Selenium架构"></a>1.2 Selenium架构</h2><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330110837429.png" alt="image-20220330110837429" style="zoom:50%;">

<h2 id="1-3-Selenium环境配置步骤"><a href="#1-3-Selenium环境配置步骤" class="headerlink" title="1.3 Selenium环境配置步骤"></a>1.3 Selenium环境配置步骤</h2><ol>
<li>准备好python环境配置</li>
<li>准备好selenium环境</li>
<li>下载浏览器对应的driver版本</li>
<li>driver配置环境变量</li>
<li>在python中import对应的依赖</li>
</ol>
<h2 id="1-4-Selenium的安装"><a href="#1-4-Selenium的安装" class="headerlink" title="1.4  Selenium的安装"></a>1.4  Selenium的安装</h2><ul>
<li><p>前提</p>
<ul>
<li>配置好python环境</li>
<li>配置好pip工具</li>
</ul>
</li>
<li><p>安装</p>
  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip --<span class="keyword">default</span>-timeout=<span class="number">100</span> install selenium==<span class="number">3.141</span><span class="number">.0</span> -i http:<span class="comment">//pypi.douban.com/simple/ --trusted-host pypi.douban.com</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>检查是否安装</p>
<ul>
<li><p><code>pip show selenium</code></p>
<p>  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330112032113.png" alt="image-20220330112032113"></p>
</li>
</ul>
</li>
</ul>
<h2 id="1-5-Driver的配置"><a href="#1-5-Driver的配置" class="headerlink" title="1.5 Driver的配置"></a>1.5 Driver的配置</h2><ul>
<li><p>Driver的介绍</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.selenium.dev/documentation/en/webdriver/driver_requirements/">https://www.selenium.dev/documentation/en/webdriver/driver_requirements/</a></li>
</ul>
</li>
<li><p>Chrome Driver的下载</p>
<ul>
<li>淘宝镜像：<a target="_blank" rel="noopener" href="https://npm.taobao.org/mirrors/chromedriver/">https://npm.taobao.org/mirrors/chromedriver/</a></li>
<li>官方网站：<a target="_blank" rel="noopener" href="https://chromedriver.storage.googleapis.com/index.html">https://chromedriver.storage.googleapis.com/index.html</a></li>
</ul>
</li>
<li><p>FireFox Driver的下载</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/mozilla/geckodriver/releases">https://github.com/mozilla/geckodriver/releases</a></li>
</ul>
</li>
<li><p>Driver的安装</p>
<ul>
<li><p>先找和自己浏览器版本适配的driver版本</p>
<ul>
<li><p>首先查看自己的浏览器版本(Google)</p>
  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330113142937.png" alt="image-20220330113142937" style="zoom:47%;">

  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330113204520.png" alt="image-20220330113204520" style="zoom:50%;">
</li>
<li><p>在去淘宝镜像找到符合浏览器版本的driver进行下载</p>
  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330113333105.png" alt="image-20220330113333105" style="zoom:50%;">

  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330113416609.png" alt="image-20220330113416609" style="zoom:50%;"></li>
</ul>
</li>
<li><p>导入到环境变量中(Mac || windows)</p>
<ul>
<li><p>Windows</p>
<ul>
<li><p>先找到刚下载的driver解压后地址</p>
  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330113929913.png" alt="image-20220330113929913" style="zoom:50%;">
</li>
<li><p>再将该地址添加到环境变量 <code>path</code> 中</p>
</li>
<li><p>验证是否配置成功</p>
<ul>
<li>在cmd中，输入 <code>chromedriver --version</code></li>
</ul>
<p>  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330114139974.png" alt="image-20220330114139974"></p>
</li>
</ul>
</li>
<li><p>MAC</p>
<ul>
<li><code>vim ~/.bash_profile export PATH=$PATH:[chromedriver所在路径]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1-6-selenium在python中如何使用"><a href="#1-6-selenium在python中如何使用" class="headerlink" title="1.6 selenium在python中如何使用"></a>1.6 selenium在python中如何使用</h2><ul>
<li><p>导入selenium</p>
</li>
<li><p>实例化driver</p>
</li>
<li><p>打开网址</p>
</li>
<li><p>关闭driver</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入Selenium包</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_selenium</span>():</span><br><span class="line">    <span class="comment"># 创建一个Chromedriver的实例。Chrome()会从环境变量中寻找浏览器</span></span><br><span class="line">    driver = webdriver.Chrome()</span><br><span class="line">    <span class="comment"># driver=webdriver.Ie()    #打开IE浏览器</span></span><br><span class="line">    <span class="comment"># driver=webdriver.Firefox()     #打开Firefox浏览器</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开网址</span></span><br><span class="line">    driver.get(<span class="string">&quot;https://www.baidu.com/&quot;</span>)</span><br><span class="line">    <span class="comment"># 关闭driver</span></span><br><span class="line">    driver.quit()</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="2-SeleniumIDE的用例录制"><a href="#2-SeleniumIDE的用例录制" class="headerlink" title="2. SeleniumIDE的用例录制"></a>2. SeleniumIDE的用例录制</h1><h2 id="2-1-SeleniumlDE用例录制使用场景"><a href="#2-1-SeleniumlDE用例录制使用场景" class="headerlink" title="2.1 SeleniumlDE用例录制使用场景"></a>2.1 SeleniumlDE用例录制使用场景</h2><ul>
<li>刚开始入门UI自动化测试</li>
<li>团队代码基础较差</li>
<li>技术成长之后学习价值不高</li>
</ul>
<h2 id="2-2-SeleniumIDE的下载及安装"><a href="#2-2-SeleniumIDE的下载及安装" class="headerlink" title="2.2 SeleniumIDE的下载及安装"></a>2.2 SeleniumIDE的下载及安装</h2><ul>
<li><p>官网：<a target="_blank" rel="noopener" href="https://www.selenium.dev/">https://www.selenium.dev/</a></p>
</li>
<li><p>Chrome插件：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/selenium-ide/mooikfkahbdckldjjndioackbalphokd">https://chrome.google.com/webstore/detail/selenium-ide/mooikfkahbdckldjjndioackbalphokd</a></p>
</li>
<li><p>Firefox:<a target="_blank" rel="noopener" href="https://addons.mozilla.org/en-US/firefox/addon/selenium-ide/">https://addons.mozilla.org/en-US/firefox/addon/selenium-ide/</a></p>
</li>
<li><p>github release:<a target="_blank" rel="noopener" href="https://github.com/SeleniumHQ/selenium-ide/releases">https://github.com/SeleniumHQ/selenium-ide/releases</a></p>
</li>
<li><p>其它版本：<a target="_blank" rel="noopener" href="https://addons.mozilla.org/en-GB/firefox/addon/selenium-ide/versions/">https://addons.mozilla.org/en-GB/firefox/addon/selenium-ide/versions/</a></p>
<blockquote>
<p>注意：Chrome插件在国内无法下载，Firefox可以直接下载。</p>
</blockquote>
</li>
</ul>
<h2 id="2-3-启动"><a href="#2-3-启动" class="headerlink" title="2.3 启动"></a>2.3 启动</h2><ul>
<li>安装完成后，通过在浏览器的菜单栏中点击它的图标来启动它：</li>
<li>如果没看到图标，首先确保是否安装了Selenium IDE 扩展插件</li>
<li>通过以下链接访问所有插件</li>
<li>Chrome：chrome:&#x2F;&#x2F;extensions</li>
<li>Firefox：about:addons</li>
</ul>
<h2 id="2-4-SeleniumIDE常用功能"><a href="#2-4-SeleniumIDE常用功能" class="headerlink" title="2.4 SeleniumIDE常用功能"></a>2.4 SeleniumIDE常用功能</h2><p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330144504950.png" alt="image-20220330144504950"></p>
<ol>
<li>新建、保存、打开</li>
<li>开始和停止录制</li>
<li>运行8中的所有的实例</li>
<li>运行单个实例</li>
<li>调试模式</li>
<li>调整案例的运行速度</li>
<li>要录制的网址</li>
<li>实例列表</li>
<li>动作、目标、值</li>
<li>对单条命令的解释</li>
<li>运行日志</li>
</ol>
<h2 id="2-5-使用SeleniumIDE"><a href="#2-5-使用SeleniumIDE" class="headerlink" title="2.5 使用SeleniumIDE"></a>2.5 使用SeleniumIDE</h2><h3 id="step1：创建项目"><a href="#step1：创建项目" class="headerlink" title="step1：创建项目"></a>step1：创建项目</h3><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330145700022.png" alt="image-20220330145700022" style="zoom: 43%;">

<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330145730227.png" alt="image-20220330145730227" style="zoom:43%;">

<h3 id="step2：开始录制"><a href="#step2：开始录制" class="headerlink" title="step2：开始录制"></a>step2：开始录制</h3><p>点击开始录制</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330145842890.png" alt="image-20220330145842890" style="zoom:43%;">

<p>填入测试的URL，点击开始录制</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330150030050.png" alt="image-20220330150030050" style="zoom:43%;">

<p>在录制时，浏览器右下角会出现正在录制的标志</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330150257156.png" alt="image-20220330150257156" style="zoom:33%;">

<h3 id="step3：结束录制"><a href="#step3：结束录制" class="headerlink" title="step3：结束录制"></a>step3：结束录制</h3><p>点击”结束录制“按钮</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330150439077.png" alt="image-20220330150439077" style="zoom:43%;">

<p>给测试用例起个名字</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330150539375.png" alt="image-20220330150539375" style="zoom:43%;">

<h3 id="step4：回放"><a href="#step4：回放" class="headerlink" title="step4：回放"></a>step4：回放</h3><p>点击”回放按钮“会进行回放操作</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330150642356.png" alt="image-20220330150642356" style="zoom:43%;">

<p>也可以进行新建命令</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330152258425.png" alt="image-20220330152258425" style="zoom: 50%;">

<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330152228474.png" alt="image-20220330152228474" style="zoom:50%;">

<h3 id="step5：新建测试"><a href="#step5：新建测试" class="headerlink" title="step5：新建测试"></a>step5：新建测试</h3><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330152427650.png" alt="image-20220330152427650" style="zoom:50%;">

<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330152448271.png" alt="image-20220330152448271" style="zoom:50%;">

<p>接下来仍然是通过录制的方式获取测试</p>
<p>获取到测试后，可以选择批量执行</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330152723889.png" alt="image-20220330152723889" style="zoom:50%;">

<h3 id="step5：创建测试集"><a href="#step5：创建测试集" class="headerlink" title="step5：创建测试集"></a>step5：创建测试集</h3><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330152850868.png" alt="image-20220330152850868" style="zoom:50%;">

<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330153607433.png" alt="image-20220330153607433" style="zoom:50%;">

<p>回放操作和测试的完全一致</p>
<h3 id="step6：导出"><a href="#step6：导出" class="headerlink" title="step6：导出"></a>step6：导出</h3><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220330154434819.png" alt="image-20220330154434819" style="zoom:50%;">



<h1 id="3-Selenium测试用例编写"><a href="#3-Selenium测试用例编写" class="headerlink" title="3. Selenium测试用例编写"></a>3. Selenium测试用例编写</h1><h2 id="3-1-测试用例的核心要素"><a href="#3-1-测试用例的核心要素" class="headerlink" title="3.1 测试用例的核心要素"></a>3.1 测试用例的核心要素</h2><ul>
<li>一条测试用例的最终结果只有一个：成功或者失败，</li>
<li>三大核心要素为：标题、步骤、断言<ul>
<li>标题：是对测试用例的描述</li>
<li>步骤：对测试执行过程进行描述</li>
<li>断言：实际结果与预期结果对比</li>
</ul>
</li>
</ul>
<h2 id="3-2-Selenium中如何编写测试用例"><a href="#3-2-Selenium中如何编写测试用例" class="headerlink" title="3.2 Selenium中如何编写测试用例"></a>3.2 Selenium中如何编写测试用例</h2><ul>
<li>步骤：<ul>
<li>打开页面 <a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com/</a></li>
<li>输入框输入搜索内容[霍格沃兹测试学院]</li>
<li>点击搜索按钮</li>
<li>找到结果并断言</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Generated by Selenium IDE</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_search</span>():</span><br><span class="line">    driver = webdriver.Chrome()</span><br><span class="line">    driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line">    <span class="comment"># 打开页面：https:/www.baidu.com</span></span><br><span class="line">    driver.get(<span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br><span class="line">    <span class="comment"># 输入框输入搜索内容[霍格沃兹测试学院]</span></span><br><span class="line">    driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;#kw&quot;</span>).send_keys(<span class="string">&quot;霍格沃兹测试学院&quot;</span>)</span><br><span class="line">    <span class="comment"># 点击搜索按钮</span></span><br><span class="line">    driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;#su&quot;</span>).click()</span><br><span class="line">    <span class="comment"># 找到要查找的内容</span></span><br><span class="line">    result = driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;.result:nth-child(2)&gt;h3&gt;a&gt;em&quot;</span>).text</span><br><span class="line">    <span class="keyword">assert</span> <span class="string">&quot;霍格沃兹测试学院&quot;</span> <span class="keyword">in</span> result</span><br></pre></td></tr></table></figure>

<h1 id="4-Selenium三种等待方式"><a href="#4-Selenium三种等待方式" class="headerlink" title="4. Selenium三种等待方式"></a>4. Selenium三种等待方式</h1><h2 id="4-1-直接等待"><a href="#4-1-直接等待" class="headerlink" title="4.1 直接等待"></a>4.1 直接等待</h2><p>强制等待，线程休眠一定时间</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time.sleep(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="4-2-隐式等待"><a href="#4-2-隐式等待" class="headerlink" title="4.2 隐式等待"></a>4.2 隐式等待</h2><p>设置一个等待时间，轮询查找(默认0.5秒)元素是否出现，如果没出现就抛出<br>异常</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.driver.implicitly_wait(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>缺点：隐式等待是<strong>全局的设置</strong>，不一定能使每个操作都恰好合适</p>
<h2 id="4-3-显式等待"><a href="#4-3-显式等待" class="headerlink" title="4.3 显式等待"></a>4.3 显式等待</h2><ul>
<li>在代码中定义等待条件，当条件发生时才继续执行代码</li>
<li><code>WebDriverWait</code>配合<code>until()</code>和<code>until not()</code>方法，根据判断条件进行等待</li>
<li>程序每隔一段时间(默认为0.5秒)进行条件判断，如果条件成立，则执行下一步，否则继续等待，直到超过设置的最长时间</li>
</ul>
<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.wait <span class="keyword">import</span> WebDriverWait</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestWait</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver = webdriver.Chrome()</span><br><span class="line">        self.driver.get(<span class="string">&quot;https://ceshiren.com/&quot;</span>)</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_wait</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.find_element(By.ID, <span class="string">&#x27;ember33&#x27;</span>).click()</span><br><span class="line">        self.driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;[title~=&#x27;原创精华文章,有100元奖金&#x27;]&quot;</span>).click()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        until(self, method, message=&#x27;&#x27;)</span></span><br><span class="line"><span class="string">        until方法需要传入一个method作为参数，method需要接受一个参数，所以wait_show也需要有一个参数</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># 方法1</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">wait_show</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="comment"># 定位一组元素用find_elements，elements都是复数</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">len</span>(self.driver.find_elements(By.CSS_SELECTOR, <span class="string">&quot;[title~=&#x27;招聘内推&#x27;]&quot;</span>)) &gt;= <span class="number">1</span></span><br><span class="line">        WebDriverWait(self.driver, <span class="number">10</span>).until(wait_show)</span><br><span class="line">        <span class="comment"># 方法2</span></span><br><span class="line">        <span class="comment"># WebDriverWait(self.driver, 10).until(expected_conditions.element_to_be_clickable((By.CSS_SELECTOR, &quot;[title~=&#x27;招聘内推&#x27;]&quot;)))</span></span><br><span class="line">        self.driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;[title~=&#x27;招聘内推&#x27;]&quot;</span>).click()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;WORLD&quot;</span>)</span><br></pre></td></tr></table></figure>



<h1 id="5-web控件定位与常见操作"><a href="#5-web控件定位与常见操作" class="headerlink" title="5. web控件定位与常见操作"></a>5. web控件定位与常见操作</h1><h2 id="5-1-Selenium的点击和输入"><a href="#5-1-Selenium的点击和输入" class="headerlink" title="5.1 Selenium的点击和输入"></a>5.1 Selenium的点击和输入</h2><p><strong>定义：</strong></p>
<ul>
<li><code>find_element(By.ID, &#39;su&#39;).click()</code></li>
<li><code>find_element(By.ID,&#39;kw&#39;).send_keys(&quot;霍格沃兹测试学院&quot;)</code></li>
</ul>
<h2 id="5-2-xpath"><a href="#5-2-xpath" class="headerlink" title="5.2 xpath"></a>5.2 xpath</h2><h3 id="1-定义"><a href="#1-定义" class="headerlink" title="(1) 定义"></a>(1) 定义</h3><ul>
<li>解析XML的一种语言(HTML其实是XML的子级)，<strong>广泛用于解析HTML数据</strong></li>
<li>几乎所有语言都能使用XPath，比如Java和C语言</li>
<li>除了XPathi还有其他手段用于XML解析，比如：BeautifulSoup、Ixml、D0M、SAX、JSD0M、D0M4J、minixml等</li>
</ul>
<blockquote>
<p><code>xpath</code>既可以用于appium，也可以用于selenium。不过缺点是比<code>CSS.SELECTOR</code>要慢。因为<code>xpath</code>是从头到尾去遍历的。</p>
</blockquote>
<h3 id="2-XPath语法"><a href="#2-XPath语法" class="headerlink" title="(2)XPath语法"></a>(2)XPath语法</h3><p>XPath语法其实只有三大类：</p>
<ul>
<li>层级：<code>/</code>直接子级、<code>//</code>跳级(多少级都可以)</li>
<li>属性：<code>@</code>属性访问</li>
<li>函数：<code>contains()</code>、<code>text()</code>等</li>
</ul>
<h4 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h4><table>
<thead>
<tr>
<th align="left">表达式</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">nodename</td>
<td align="left">选取此节点的所有子节点。</td>
</tr>
<tr>
<td align="left">&#x2F;</td>
<td align="left">从根节点选取(取子节点)。</td>
</tr>
<tr>
<td align="left">&#x2F;&#x2F;</td>
<td align="left">从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置(取子孙节点)。</td>
</tr>
<tr>
<td align="left">.</td>
<td align="left">选取当前节点。</td>
</tr>
<tr>
<td align="left">..</td>
<td align="left">选取当前节点的父节点。</td>
</tr>
<tr>
<td align="left">@</td>
<td align="left">选取属性。</td>
</tr>
</tbody></table>
<h4 id="谓语-条件"><a href="#谓语-条件" class="headerlink" title="谓语(条件)"></a>谓语(条件)</h4><p>谓语用来查找某个特定的节点或者包含某个指定的值的节点。</p>
<p>谓语被嵌在方括号<font color="red"><code>[]</code></font>中。</p>
<p>在下面的表格中，我们列出了带有谓语的一些路径表达式，以及表达式的结果：</p>
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td><code>/bookstore/book[1]</code></td>
<td>选取属于bookstore子元素的第一个book元素。</td>
</tr>
<tr>
<td><code>/bookstore/book[last()]</code></td>
<td>选取属于bookstore子元素的最后一个book元素。</td>
</tr>
<tr>
<td><code>/bookstore/book[last()-1]</code></td>
<td>选取属于bookstore子元素的倒数第二个book元素。</td>
</tr>
<tr>
<td><code>/bookstore/book[position(&lt;3]</code></td>
<td>选取最前面的两个属于bookstore元素的子元素的book元素。</td>
</tr>
<tr>
<td><code>//title[@lang=&#39;eng&#39;]</code></td>
<td>选取所有title元素，且这些元素拥有值为eng的lang属性。</td>
</tr>
<tr>
<td><code>/bookstore/book[price&gt;35.00]</code></td>
<td>选取bookstore元素的所有book元素， 且其中的price元素的值须大于35.00.</td>
</tr>
<tr>
<td><code>/bookstore/book[price&gt;35.00]/title</code></td>
<td>选取bookstore元素中的book元素的所有title元素， 且其中的price元素的值须大于35.00。</td>
</tr>
</tbody></table>
<h2 id="5-3-Css-Selector"><a href="#5-3-Css-Selector" class="headerlink" title="5.3 Css Selector"></a>5.3 Css Selector</h2><blockquote>
<p><code>css selector</code>既可以用于appium，也可以用于selenium。不过appium原生控件不支持css selector，当对手机中的网页定位，才可以用css selector。</p>
</blockquote>
<h3 id="1-id选择器-身份选择器"><a href="#1-id选择器-身份选择器" class="headerlink" title="1. id选择器 身份选择器"></a>1. id选择器 身份选择器</h3><p>作用：选取带有id属性，并且id属性值为id-name的标签。</p>
<blockquote>
<p>id是唯一的，所以一个id只能可以套用到一个HTML元素上，而一个HTML元素也只能拥有一个id。</p>
<p>命名规则：id选择器的名称除了第一个字符必须为英文字母以外，后续字符可以是大小写字母和-或者_</p>
<p>id选择器需要以 <code>#</code>开头 — <code>#id</code></p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401104833012.png" alt="image-20220401104833012"></p>
<h3 id="2-class选择器-类选择器"><a href="#2-class选择器-类选择器" class="headerlink" title="2. class选择器 类选择器"></a>2. class选择器 类选择器</h3><p>作用：选取所有带有class属性，并且id属性值为id-name的标签。</p>
<blockquote>
<p>class选择器可以用于多个元素，因为他不是唯一的。</p>
<p>与id选择器不同的是，一个class可以套用到多个HTML元素上，而一个HTML元素也可以拥有多个class。</p>
<p>class选择器需要以 <code>.</code>开头 — <code>.class</code></p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401110134896.png" alt="image-20220401110134896"></p>
<h3 id="3-tag选择器-标签选择器"><a href="#3-tag选择器-标签选择器" class="headerlink" title="3. tag选择器 标签选择器"></a>3. tag选择器 标签选择器</h3><p>作用：选取所有tag标签。</p>
<blockquote>
<p>在css中直接使用HTML标签(Tag)的名称，例如<h>、<p>、<div>等等。这种方式会将样式套用到所有对应的标签中。</div></p>
<p>如果在Tag名称后加上id选取器或class选取器，如div.bg{}，就代表bg这个class只能用于div上，用于别HTML的标签则不会生效。</p>
</h></p></blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401132554549.png" alt="image-20220401132554549"></p>
<h3 id="4-空格"><a href="#4-空格" class="headerlink" title="4. 空格"></a>4. 空格</h3><p>作用：选取并修饰该A标签内的所有子A标签，不包括该标签本身。</p>
<blockquote>
<p>比如：<code>.contain div</code>，即是选取拥有contain这个class的HTML元素里面的所有div。</p>
<p><em>但是并不包括contain本身。</em></p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401134502450.png" alt="image-20220401134502450"></p>
<h3 id="5-gt-大于号"><a href="#5-gt-大于号" class="headerlink" title="5. &gt; 大于号"></a>5. &gt; 大于号</h3><p>作用：选取该A标签内的所有第一层子A标签，不包括该标签本身。</p>
<blockquote>
<p>比如：<code>.contain&gt;div</code>，即是选取拥有containe这个class的HTML元素里面第一层的所有div。</p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401140209612.png" alt="image-20220401140209612"></p>
<h3 id="6-加号"><a href="#6-加号" class="headerlink" title="6. + 加号"></a>6. + 加号</h3><p>作用：选取所有某种标签下的第一个子标签元素。</p>
<blockquote>
<p>比如：<code>.contain+div</code>，意思是选取拥有contain这个class的HTML元素与它身处同一层紧接着的div。</p>
<p><em>注意如果紧接着的并不是div，就不会选取到任何东西。</em></p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401141033393.png" alt="image-20220401141033393"></p>
<h3 id="7-波浪线"><a href="#7-波浪线" class="headerlink" title="7. ~ 波浪线"></a>7. ~ 波浪线</h3><p>作用：选取所有某种元素之后所有同一层的所有某种元素</p>
<blockquote>
<p>比如：<code>.contain ~ div</code>，意思是选取拥有contain这个class的HTML元素与它身处同一层之后的所有div。</p>
<p>尽管其中有其他HTML元素隔开，只要是与contain处于同一层都会套用得到。</p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401141544857.png" alt="image-20220401141544857"></p>
<h3 id="8-星号"><a href="#8-星号" class="headerlink" title="8. * 星号"></a>8. * 星号</h3><p>作用：代替具体的条件，表示所有。</p>
<blockquote>
<p>如果只用一个星号的话即是选取所有HTML元素。</p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401142008458.png" alt="image-20220401142008458"></p>
<blockquote>
<p>比如：<code>.contain ~ *</code>，会将contain class套用到contain之后的所有标签。</p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401143236014.png" alt="image-20220401143236014"></p>
<h3 id="9-属性选择器-attribute"><a href="#9-属性选择器-attribute" class="headerlink" title="9. 属性选择器 attribute"></a>9. 属性选择器 attribute</h3><p>作用：是透过HTML元素的属性去选取。<code>[attribute=value]</code></p>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401143839958.png" alt="image-20220401143839958"></p>
<p>还可以通过一些正则表达式去选取：</p>
<blockquote>
<p>比如<code>^=</code>：选取匹配行首的元素</p>
<p><code>$=</code>：选取匹配行尾的元素</p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401145218205.png" alt="image-20220401145218205"></p>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401145302501.png" alt="image-20220401145302501"></p>
<blockquote>
<p><code>*=</code>则为包含关键词，无论头尾。</p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401145924333.png" alt="image-20220401145924333"></p>
<h3 id="10-伪类-pseudo-class"><a href="#10-伪类-pseudo-class" class="headerlink" title="10. 伪类 pseudo class"></a>10. 伪类 pseudo class</h3><p>作用：用于选择一般选择器无法表达的选择方式。</p>
<blockquote>
<p>写法格式：以上九种形式加冒号加条件。</p>
</blockquote>
<p><code>a: hover&#123;color:red&#125;</code> ：鼠标悬停变红<br><code>a: visited&#123;color:cyan&#125;</code> ：点击过该链接则为天蓝色</p>
<p><code>div:nth-child(3n + 0)&#123;background: pink;&#125;</code>：div的子元素中3的倍数的元素，底色变为粉色</p>
<blockquote>
<p>nth-chile()参数特别的有：odd(奇数)、even(双数)、3n+0(选取3倍数)、2n效果even 一样。</p>
</blockquote>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220401161757286.png" alt="image-20220401161757286"></p>
<h3 id="详细实例："><a href="#详细实例：" class="headerlink" title="详细实例："></a>详细实例：</h3><table>
<thead>
<tr>
<th align="left">选择器</th>
<th align="left">示例</th>
<th align="left">示例说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-class.html">.<em>class</em></a></td>
<td align="left">.intro</td>
<td align="left">选择所有class&#x3D;”intro”的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-id.html">#<em>id</em></a></td>
<td align="left">#firstname</td>
<td align="left">选择所有id&#x3D;”firstname”的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-all.html">*</a></td>
<td align="left">*</td>
<td align="left">选择所有元素</td>
</tr>
<tr>
<td align="left"><em><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-element.html">element</a></em></td>
<td align="left">p</td>
<td align="left">选择所有<p>元素</p></td>
</tr>
<tr>
<td align="left"><em><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-element-comma.html">element,element</a></em></td>
<td align="left">div,p</td>
<td align="left">选择所有<div>元素和<p>元素</p></div></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-element-element.html"><em>element</em> <em>element</em></a></td>
<td align="left">div p</td>
<td align="left">选择<div>元素内的所有<p>元素</p></div></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-element-gt.html"><em>element</em>&gt;<em>element</em></a></td>
<td align="left">div&gt;p</td>
<td align="left">选择所有父级是 <div> 元素的 <p> 元素</p></div></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-element-pluss.html"><em>element</em>+<em>element</em></a></td>
<td align="left">div+p</td>
<td align="left">选择所有紧跟在 <div> 元素之后的第一个 <p> 元素</p></div></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-attribute.html">[<em>attribute</em>]</a></td>
<td align="left">[target]</td>
<td align="left">选择所有带有target属性元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-attribute-value.html">[<em>attribute</em>&#x3D;<em>value</em>]</a></td>
<td align="left">[target&#x3D;-blank]</td>
<td align="left">选择所有使用target&#x3D;”-blank”的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-attribute-value-contains.html">[<em>attribute</em>~&#x3D;<em>value</em>]</a></td>
<td align="left">[title~&#x3D;flower]</td>
<td align="left">选择标题属性包含单词”flower”的所有元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-attribute-value-lang.html">[<em>attribute</em>|&#x3D;<em>language</em>]</a></td>
<td align="left">[lang|&#x3D;en]</td>
<td align="left">选择 lang 属性等于 <strong>en</strong>，或者以 <strong>en-</strong> 为开头的所有元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-link.html">:link</a></td>
<td align="left">a:link</td>
<td align="left">选择所有未访问链接</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-visited.html">:visited</a></td>
<td align="left">a:visited</td>
<td align="left">选择所有访问过的链接</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-active.html">:active</a></td>
<td align="left">a:active</td>
<td align="left">选择活动链接</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-hover.html">:hover</a></td>
<td align="left">a:hover</td>
<td align="left">选择鼠标在链接上面时</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-focus.html">:focus</a></td>
<td align="left">input:focus</td>
<td align="left">选择具有焦点的输入元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-firstletter.html">:first-letter</a></td>
<td align="left">p:first-letter</td>
<td align="left">选择每一个<p>元素的第一个字母</p></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-firstline.html">:first-line</a></td>
<td align="left">p:first-line</td>
<td align="left">选择每一个<p>元素的第一行</p></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-firstchild.html">:first-child</a></td>
<td align="left">p:first-child</td>
<td align="left">指定只有当<p>元素是其父级的第一个子级的样式。</p></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-before.html">:before</a></td>
<td align="left">p:before</td>
<td align="left">在每个<p>元素之前插入内容</p></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-after.html">:after</a></td>
<td align="left">p:after</td>
<td align="left">在每个<p>元素之后插入内容</p></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-lang.html">:lang(<em>language</em>)</a></td>
<td align="left">p:lang(it)</td>
<td align="left">选择一个lang属性的起始值&#x3D;”it”的所有<p>元素</p></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-gen-sibling.html"><em>element1</em>~<em>element2</em></a></td>
<td align="left">p~ul</td>
<td align="left">选择p元素之后的每一个ul元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-attr-begin.html">[<em>attribute</em>^&#x3D;<em>value</em>]</a></td>
<td align="left">a[src^&#x3D;”https”]</td>
<td align="left">选择每一个src属性的值以”https”开头的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-attr-end.html">[<em>attribute</em>$&#x3D;<em>value</em>]</a></td>
<td align="left">a[src$&#x3D;”.pdf”]</td>
<td align="left">选择每一个src属性的值以”.pdf”结尾的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-attr-contain.html">[<em>attribute</em>*&#x3D;<em>value</em>]</a></td>
<td align="left">a[src*&#x3D;”runoob”]</td>
<td align="left">选择每一个src属性的值包含子字符串”runoob”的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-first-of-type.html">:first-of-type</a></td>
<td align="left">p:first-of-type</td>
<td align="left">选择每个p元素是其父级的第一个p元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-last-of-type.html">:last-of-type</a></td>
<td align="left">p:last-of-type</td>
<td align="left">选择每个p元素是其父级的最后一个p元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-only-of-type.html">:only-of-type</a></td>
<td align="left">p:only-of-type</td>
<td align="left">选择每个p元素是其父级的唯一p元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-only-child.html">:only-child</a></td>
<td align="left">p:only-child</td>
<td align="left">选择每个p元素是其父级的唯一子元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-nth-child.html">:nth-child(<em>n</em>)</a></td>
<td align="left">p:nth-child(2)</td>
<td align="left">选择每个p元素是其父级的第二个子元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-nth-last-child.html">:nth-last-child(<em>n</em>)</a></td>
<td align="left">p:nth-last-child(2)</td>
<td align="left">选择每个p元素的是其父级的第二个子元素，从最后一个子项计数</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-nth-of-type.html">:nth-of-type(<em>n</em>)</a></td>
<td align="left">p:nth-of-type(2)</td>
<td align="left">选择每个p元素是其父级的第二个p元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-nth-last-of-type.html">:nth-last-of-type(<em>n</em>)</a></td>
<td align="left">p:nth-last-of-type(2)</td>
<td align="left">选择每个p元素的是其父级的第二个p元素，从最后一个子项计数</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-last-child.html">:last-child</a></td>
<td align="left">p:last-child</td>
<td align="left">选择每个p元素是其父级的最后一个子级。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-root.html">:root</a></td>
<td align="left">:root</td>
<td align="left">选择文档的根元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-empty.html">:empty</a></td>
<td align="left">p:empty</td>
<td align="left">选择每个没有任何子级的p元素(包括文本节点)</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-target.html">:target</a></td>
<td align="left">#news:target</td>
<td align="left">选择当前活动的#news元素(包含该锚名称的点击的URL)</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-enabled.html">:enabled</a></td>
<td align="left">input:enabled</td>
<td align="left">选择每一个已启用的输入元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-disabled.html">:disabled</a></td>
<td align="left">input:disabled</td>
<td align="left">选择每一个禁用的输入元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-checked.html">:checked</a></td>
<td align="left">input:checked</td>
<td align="left">选择每个选中的输入元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-not.html">:not(<em>selector</em>)</a></td>
<td align="left">:not(p)</td>
<td align="left">选择每个并非p元素的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-selection.html">::selection</a></td>
<td align="left">::selection</td>
<td align="left">匹配元素中被用户选中或处于高亮状态的部分</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-out-of-range.html">:out-of-range</a></td>
<td align="left">:out-of-range</td>
<td align="left">匹配值在指定区间之外的input元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-in-range.html">:in-range</a></td>
<td align="left">:in-range</td>
<td align="left">匹配值在指定区间之内的input元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-read-write.html">:read-write</a></td>
<td align="left">:read-write</td>
<td align="left">用于匹配可读及可写的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-read-only.html">:read-only</a></td>
<td align="left">:read-only</td>
<td align="left">用于匹配设置 “readonly”(只读) 属性的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-optional.html">:optional</a></td>
<td align="left">:optional</td>
<td align="left">用于匹配可选的输入元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-required.html">:required</a></td>
<td align="left">:required</td>
<td align="left">用于匹配设置了 “required” 属性的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-valid.html">:valid</a></td>
<td align="left">:valid</td>
<td align="left">用于匹配输入值为合法的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/sel-invalid.html">:invalid</a></td>
<td align="left">:invalid</td>
<td align="left">用于匹配输入值为非法的元素</td>
</tr>
</tbody></table>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestGet</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver = webdriver.Chrome()</span><br><span class="line">        self.driver.get(<span class="string">&quot;https://www.baidu.com/&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># def test_get_xpath(self):</span></span><br><span class="line">    <span class="comment">#     self.driver.find_element(By.XPATH, &#x27;//input[@id=&quot;kw&quot;]&#x27;).send_keys(&quot;霍格沃兹测试学院&quot;)</span></span><br><span class="line">    <span class="comment">#     print(&#x27;测试输入&#x27;)</span></span><br><span class="line">    <span class="comment">#     self.driver.find_element(By.XPATH, &#x27;//input[@id=&quot;su&quot;]&#x27;).click()</span></span><br><span class="line">    <span class="comment">#     print(&#x27;测试搜索&#x27;)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_css_selector</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.find_element(By.CSS_SELECTOR, <span class="string">&#x27;#kw&#x27;</span>).send_keys(<span class="string">&quot;霍格沃兹测试学院&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;test print&#x27;</span>)</span><br><span class="line">        self.driver.find_element(By.CSS_SELECTOR, <span class="string">&#x27;#su&#x27;</span>).click()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;test search&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="6-web控件的交互进阶"><a href="#6-web控件的交互进阶" class="headerlink" title="6. web控件的交互进阶"></a>6. web控件的交互进阶</h1><p>常用的操作事件(右键点击，页面滑动，表单操作等)。</p>
<p>官方文档<br><a target="_blank" rel="noopener" href="https://selenium-python.readthedocs.io/api.html">https://selenium-python.readthedocs.io/api.html</a> </p>
<ul>
<li>ActionChains：执行PC端的鼠标点击，双击，右键，拖搜等事件</li>
<li>TouchActions：模拟PC和移动端的点击，滑动，拖拽，多点触控等多种手势操作</li>
</ul>
<h2 id="6-1-ActionChains-动作链接"><a href="#6-1-ActionChains-动作链接" class="headerlink" title="6.1 ActionChains 动作链接"></a>6.1 ActionChains 动作链接</h2><p>执行原理：调用ActionChains的方法时，<font color="red">不会立即执行</font>，而是将所有的操作，按顺序存放在一个队列里，当你调用<code>perform()</code>方法时，队列中的事件会依次执行。</p>
<h3 id="6-1-1-基本用法"><a href="#6-1-1-基本用法" class="headerlink" title="6.1.1 基本用法"></a>6.1.1 基本用法</h3><ul>
<li>生成一个动作<code>action= ActionChains(driver)</code></li>
<li>动作添加方法1 <code>action.方法1</code></li>
<li>动作添加方法2 <code>action.方法2</code></li>
<li>调用<code>perform()</code>方法执行<code>(action.perform())</code></li>
</ul>
<h3 id="6-1-2-具体写法"><a href="#6-1-2-具体写法" class="headerlink" title="6.1.2 具体写法"></a>6.1.2 具体写法</h3><ul>
<li>链式写法<ul>
<li><code>ActionChains(driver).move_to_element(element).click(element).perform()</code></li>
</ul>
</li>
<li>分布写法<ul>
<li><code>actions = ActionChains(driver)</code></li>
<li><code>actions.move_to_element(element)</code></li>
<li><code>actions.click(element)</code></li>
<li><code>actions.perform()</code></li>
</ul>
</li>
</ul>
<h3 id="6-1-3-ActionChains-用法1"><a href="#6-1-3-ActionChains-用法1" class="headerlink" title="6.1.3 ActionChains 用法1"></a>6.1.3 ActionChains 用法1</h3><p>用法一：点击，右键，双击操作</p>
<ul>
<li><code>action = ActionChains(driver)</code></li>
<li><code>action.click(element)</code></li>
<li><code>action.double_click(element)</code></li>
<li><code>action.context_click(element)</code></li>
<li><code>action.perform()</code></li>
</ul>
<p>测试案例</p>
<ul>
<li>打开页面(<a target="_blank" rel="noopener" href="http://sahitest.com/demo/clicks.htm">http://sahitest.com/demo/clicks.htm</a>)</li>
<li>分别对按钮’click me’，’dbl click me’， right click me’，执行点击，双击，右键操作</li>
<li>打印上面展示框中的内容</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestActionChains</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver = webdriver.Chrome()</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">teardown</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.quit()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_click</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;http://sahitest.com/demo/clicks.htm&quot;</span>)</span><br><span class="line">        element_click = self.driver.find_element(By.XPATH, <span class="string">&quot;/html/body/form/input[3]&quot;</span>)</span><br><span class="line">        element_dblclick = self.driver.find_element(By.XPATH, <span class="string">&quot;/html/body/form/input[2]&quot;</span>)</span><br><span class="line">        element_right_click = self.driver.find_element(By.XPATH, <span class="string">&quot;/html/body/form/input[4]&quot;</span>)</span><br><span class="line">        action = ActionChains(self.driver)</span><br><span class="line">        action.click(element_click)</span><br><span class="line">        action.context_click(element_right_click)</span><br><span class="line">        action.double_click(element_dblclick)</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">        action.perform()</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h3 id="6-1-4-ActionChains-用法2"><a href="#6-1-4-ActionChains-用法2" class="headerlink" title="6.1.4 ActionChains 用法2"></a>6.1.4 ActionChains 用法2</h3><p>用法二：鼠标移动到某个元素上</p>
<ul>
<li><code>action = ActionChains(self.driver)</code></li>
<li><code>action.move_to_element(element)</code></li>
<li><code>action.perform()</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_move_to_element</span>(<span class="params">self</span>):</span><br><span class="line">    self.driver.get(<span class="string">&quot;https://www.baidu.com/?tn=44004473_13_oem_dg&quot;</span>)</span><br><span class="line">    move_to_element = self.driver.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;s-usersetting-top&quot;]&#x27;</span>)</span><br><span class="line">    action = ActionChains(self.driver)</span><br><span class="line">    action.move_to_element(move_to_element)</span><br><span class="line">    action.perform()</span><br></pre></td></tr></table></figure>

<h3 id="6-1-5-ActionChains-用法3"><a href="#6-1-5-ActionChains-用法3" class="headerlink" title="6.1.5 ActionChains 用法3"></a>6.1.5 ActionChains 用法3</h3><p>用法三：鼠标拖拽某个元素到另一元素上</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_dragdrop</span>(<span class="params">self</span>):</span><br><span class="line">    self.driver.get(<span class="string">&quot;http://sahitest.com/demo/dragDropMooTools.htm&quot;</span>)</span><br><span class="line">    drag_element = self.driver.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;dragger&quot;]&#x27;</span>)</span><br><span class="line">    drop_element = self.driver.find_element(By.XPATH, <span class="string">&#x27;/html/body/div[2]&#x27;</span>)</span><br><span class="line">    action = ActionChains(self.driver)</span><br><span class="line">    <span class="comment"># 方法1</span></span><br><span class="line">    <span class="comment"># action.drag_and_drop(drag_element, drop_element)</span></span><br><span class="line">    <span class="comment"># 方法2</span></span><br><span class="line">    <span class="comment"># action.click_and_hold(drag_element).release(drop_element)</span></span><br><span class="line">    <span class="comment"># 方法3</span></span><br><span class="line">    action.click_and_hold(drag_element).move_to_element(drop_element).release()</span><br><span class="line">    action.perform()</span><br></pre></td></tr></table></figure>

<h3 id="6-1-6-ActionChains-用法4"><a href="#6-1-6-ActionChains-用法4" class="headerlink" title="6.1.6 ActionChains 用法4"></a>6.1.6 ActionChains 用法4</h3><p>用法四：ActionChains模拟按键方法</p>
<p>模拟按键有多种方法，能用win32api来实现，能用SendKeys来实现，也可以用selenium的WebElement对象的send_keys()方法来实现，这里ActionChains类也提供了几个模拟按键的方法。</p>
<p>用法：</p>
<ul>
<li><code>Action = ActionChains(driver)</code></li>
<li><code>action.send_keys(Keys.BACK_SPACE)</code></li>
<li>或者<code>action.key_down(Keys.CONTROL).send_keys(&#39;a&#39;).key_up(Keys.CONTROL)</code></li>
<li><code>action.perform()</code></li>
</ul>
<p>打开网址：<a target="_blank" rel="noopener" href="http://sahitest.com/demo/label.htm">http://sahitest.com/demo/label.htm</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_key</span>(<span class="params">self</span>):</span><br><span class="line">    self.driver.get(<span class="string">&quot;http://sahitest.com/demo/label.htm&quot;</span>)</span><br><span class="line">    element = self.driver.find_element(By.XPATH, <span class="string">&quot;/html/body/label[1]/input&quot;</span>)</span><br><span class="line">    element.click()</span><br><span class="line">    action = ActionChains(self.driver)</span><br><span class="line">    action.send_keys(<span class="string">&quot;username&quot;</span>).pause(<span class="number">1</span>)</span><br><span class="line">    action.send_keys(Keys.SPACE).pause(<span class="number">1</span>)</span><br><span class="line">    action.send_keys(<span class="string">&quot;tom&quot;</span>).pause(<span class="number">1</span>)</span><br><span class="line">    action.send_keys(Keys.BACK_SPACE).perform()</span><br><span class="line">    sleep(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="6-2-TouchActions"><a href="#6-2-TouchActions" class="headerlink" title="6.2 TouchActions"></a>6.2 TouchActions</h2><p>官网：<a target="_blank" rel="noopener" href="https://www.selenium.dev/selenium/docs/api/py/webdriver/selenium.webdriver.common.touch_actions.html">https://www.selenium.dev/selenium/docs/api/py/webdriver/selenium.webdriver.common.touch_actions.html</a></p>
<p>类似于ActionChains。ActionChains只是针对PC端程序鼠标模拟的一系列操作，对H5页面操作是无效的，TouchAction可以对h5页面操作，通过TouchAction可以实现点击，滑动。拖拽，多点触控，以及模拟手势的各种操作。</p>
<p>手势控制</p>
<ul>
<li>tap：在指定元素上敲击</li>
<li>double_tap：在指定元素上双敲击</li>
<li>tap_and_hold：在指定元素上点击但不释放</li>
<li>move：手势移动指定偏移（未释放）</li>
<li>release：释放手势</li>
<li>scroll：手势点击并滚动</li>
<li>scroll_from_element：从某个元素位置开始手势点击并滚动（向下滑动为负数，向上滑动为正数）</li>
<li>long_press：长按元素</li>
<li>flick：手势滑动</li>
<li>flick_element：从某个元素位置开始手势滑动（向上滑动为负数，向下滑动为正数）</li>
<li>Perform：执行</li>
</ul>
<h3 id="6-2-1-TouchActions实例"><a href="#6-2-1-TouchActions实例" class="headerlink" title="6.2.1 TouchActions实例"></a>6.2.1 TouchActions实例</h3><ul>
<li>打开Chrome</li>
<li>打开URL：<a target="_blank" rel="noopener" href="http://www.baidu.com/">http://www.baidu.com</a></li>
<li>向搜索框中输入“selenium测试”</li>
<li>通过TouchAction点击搜索框</li>
<li>滑动到底部，点击下一页</li>
<li>关闭Chrome</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestTouchAction</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 在创建 driver 对象时，添加浏览器的 option 选项 关闭 w3c 模式</span></span><br><span class="line">        option = webdriver.ChromeOptions()</span><br><span class="line">        option.add_experimental_option(<span class="string">&#x27;w3c&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line">        self.driver = webdriver.Chrome(options=option)</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">teardown</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.quit()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_touch_actions</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line">        input_element = self.driver.find_element_by_id(<span class="string">&quot;kw&quot;</span>)</span><br><span class="line">        input_element.send_keys(<span class="string">&quot;selenium测试&quot;</span>)</span><br><span class="line">        search_element = self.driver.find_element_by_id(<span class="string">&quot;su&quot;</span>)</span><br><span class="line">        action = TouchActions(self.driver)</span><br><span class="line">        action.tap(search_element)</span><br><span class="line"></span><br><span class="line">        action.scroll_from_element(search_element, <span class="number">0</span>, <span class="number">10000</span>)</span><br><span class="line">        action.perform()</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="6-3-表单操作"><a href="#6-3-表单操作" class="headerlink" title="6.3 表单操作"></a>6.3 表单操作</h2><ul>
<li>什么是表单？<ul>
<li>表单是一个包含表单元素的区域。</li>
<li>表单元素是允许用户在表单中（比如：文本域、下拉列表、单选框、复选框等等）输入信息的元素。</li>
<li>表单使用表单标签（<form>）定义。例如：<form><input></form></form></li>
</ul>
</li>
<li>操作表单元素步骤：<ul>
<li>首先要定位到表单元素</li>
<li>然后去操作元素（清空，输入或者点击等）</li>
</ul>
</li>
</ul>
<h3 id="6-3-1-提交表单实例"><a href="#6-3-1-提交表单实例" class="headerlink" title="6.3.1 提交表单实例"></a>6.3.1 提交表单实例</h3><p>测试用例步骤：</p>
<ol>
<li>打开testerhome登录地址：<a target="_blank" rel="noopener" href="https://testerhome.com/account/sign_in">https://testerhome.com/account/sign_in</a></li>
<li>输入用户名</li>
<li>输入密码</li>
<li>点击记住标签</li>
<li>点击登录，提交表单</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestForm</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver = webdriver.Chrome()</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">teardown</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.quit()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_form</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;https://testerhome.com/account/sign_in&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;user_login&quot;</span>).send_keys(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;user_password&quot;</span>).send_keys(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;new_user&quot;]/div[3]/div/label&#x27;</span>).click()</span><br><span class="line">        self.driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;new_user&quot;]/div[4]/input&#x27;</span>)</span><br><span class="line">        sleep(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h1 id="7-多窗口处理与网页frame"><a href="#7-多窗口处理与网页frame" class="headerlink" title="7. 多窗口处理与网页frame"></a>7. 多窗口处理与网页frame</h1><h2 id="7-1-selenium里面如何处理多窗口场景"><a href="#7-1-selenium里面如何处理多窗口场景" class="headerlink" title="7.1 selenium里面如何处理多窗口场景"></a>7.1 selenium里面如何处理多窗口场景</h2><ul>
<li><p>点击某些链接，会重新打开一个窗口，对于这种情况，想在新页面上操作，就</p>
<p>  得先切换窗口了。</p>
</li>
<li><p>获取窗口的唯一标识用句柄表示，所以只需要切换句柄，就可以在多个页面灵</p>
<p>  活操作了。</p>
</li>
</ul>
<h2 id="7-2-多个窗口识别"><a href="#7-2-多个窗口识别" class="headerlink" title="7.2 多个窗口识别"></a>7.2 多个窗口识别</h2><ul>
<li>获取到当前的窗口句柄（<code>driver.current_window_handle</code>）</li>
<li>获取到所有的窗口句柄（<code>driver.window_handles</code>）</li>
</ul>
<h2 id="7-3-多个窗口之间切换"><a href="#7-3-多个窗口之间切换" class="headerlink" title="7.3 多个窗口之间切换"></a>7.3 多个窗口之间切换</h2><ul>
<li>判断是否是想要操作的窗口，如果是，就可以对窗口进行操作，如果不是，跳转到另外一个窗口，对另一个窗口进行操作（<code>driver.switch_to_window</code>）</li>
</ul>
<p><strong>多窗口切换案例</strong>：</p>
<ol>
<li>打开百度页面</li>
<li>点击登录，弹框中点击立即注册，输入用户名和帐号</li>
<li>返回刚才的登录页，点击登录</li>
<li>输入用户名和密码，点击登录</li>
</ol>
<p>test_base.py：将setup&#x2F;teardown方法进行封装</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver = webdriver.Chrome()</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line">        self.driver.maximize_window()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">teardown</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.quit()</span><br></pre></td></tr></table></figure>

<p>test_window.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestWindow</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_Window</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;https://www.baidu.com/&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_link_text(<span class="string">&quot;登录&quot;</span>).click()</span><br><span class="line">        self.driver.find_element_by_link_text(<span class="string">&quot;立即注册&quot;</span>).click()</span><br><span class="line">        <span class="built_in">print</span>(self.driver.window_handles)</span><br><span class="line">        <span class="comment"># 所有的窗口输出是个列表</span></span><br><span class="line">        windows = self.driver.window_handles</span><br><span class="line">        self.driver.switch_to_window(windows[-<span class="number">1</span>])</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;TANGRAM__PSP_4__userName&quot;</span>).send_keys(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;TANGRAM__PSP_4__phone&quot;</span>).send_keys(<span class="string">&quot;13800000000&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;TANGRAM__PSP_4__password&quot;</span>).send_keys(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">        self.driver.switch_to_window(windows[<span class="number">0</span>])</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;TANGRAM__PSP_11__userName&quot;</span>).send_keys(<span class="string">&quot;13800000000&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;TANGRAM__PSP_11__password&quot;</span>).send_keys(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;TANGRAM__PSP_11__submit&quot;</span>).click()</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="7-4-selenium里面如何处理frame"><a href="#7-4-selenium里面如何处理frame" class="headerlink" title="7.4 selenium里面如何处理frame"></a>7.4 selenium里面如何处理frame</h2><p><strong>frame</strong>介绍</p>
<ul>
<li><p>在web自动化中，如果一个元素定位不到，那么很大可能是在<code>iframe</code>中。</p>
</li>
<li><p>什么是frame？</p>
<ul>
<li>frame是html中的框架，在html中，所谓的框架就是可以在同一个浏览器中显示不止一个页面。</li>
<li>基于html的框架，又分为垂直框架和水平框架（<code>cols,rows</code>）</li>
</ul>
</li>
<li><p>Frame分类</p>
<ul>
<li>frame标签包含frameset、frame、iframe三种。</li>
<li>frameset和普通的标签一样，不会影响正常的定位，可以使用index、id、name、webelement 任意种方式定位frame。</li>
<li>而frame与iframe对selenium定位而言是一样的。selenium有一组方法对frame进行操作。</li>
</ul>
</li>
<li><p>演示：<a target="_blank" rel="noopener" href="https://www.w3school.com.cn/tiy/t.asp?f=html_frame_cols">https://www.w3school.com.cn/tiy/t.asp?f=html_frame_cols</a></p>
<p>  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220406135402787.png" alt="image-20220406135402787"></p>
</li>
</ul>
<h2 id="7-5-多个frame识别"><a href="#7-5-多个frame识别" class="headerlink" title="7.5 多个frame识别"></a>7.5 多个frame识别</h2><h2 id="7-6-多个frame之间切换"><a href="#7-6-多个frame之间切换" class="headerlink" title="7.6 多个frame之间切换"></a>7.6 多个frame之间切换</h2><ul>
<li><p>frame存在两种：</p>
<ul>
<li><p>一种是嵌套的</p>
<ul>
<li>对于嵌套的先进入到frame的父节点，再进到子节点，然后可以对子节点里面的对象进行处理和操作</li>
<li><code>driver.switch_to.frame(&quot;父节点&quot;)</code></li>
<li><code>driver.switch_to.frame(&quot;子节点&quot;)</code></li>
</ul>
</li>
<li><p>一种是未嵌套的</p>
<ul>
<li><p><code>driver.switch_to_frame(&quot;frame的id&quot;)</code></p>
</li>
<li><p><code>driver.switch_to_frame(&quot;frame-index&quot;)</code></p>
<p>  frame无ID的时候依据索引来处理，索引从0开始<code>driver.switch_to_frame(0)</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>切换frame</p>
<ul>
<li><code>driver.switch_to.frame()</code>：根据元素id或者index切换切换frame</li>
<li><code>driver.switch_to.default_content()</code>：切换到默认frame</li>
<li><code>driver.switch_to.parent_frame()</code>：切换到父级frame</li>
</ul>
</li>
</ul>
<p><strong>多frame切换案例：</strong></p>
<ul>
<li><p>打开包含framel的web页面<a target="_blank" rel="noopener" href="https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable">https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable</a></p>
</li>
<li><p>打印“请拖拽我”元素的文本</p>
</li>
<li><p>打印“点击运行”元素的文本</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestFrame</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_frame</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable&quot;</span>)</span><br><span class="line">        self.driver.switch_to_frame(<span class="string">&quot;iframeResult&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(self.driver.find_element(By.ID, <span class="string">&quot;draggable&quot;</span>).text)</span><br><span class="line">        <span class="comment"># 切换到父frame</span></span><br><span class="line">        self.driver.switch_to_default_content()</span><br><span class="line">        <span class="comment"># self.driver.switch_to.parent_frame()</span></span><br><span class="line">        self.driver.find_element(By.ID, <span class="string">&quot;submitBTN&quot;</span>).click()</span><br><span class="line">        self.driver.switch_to_frame(<span class="string">&quot;iframeResult&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(self.driver.find_element(By.ID, <span class="string">&quot;droppable&quot;</span>).text)</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="8-selenium多浏览器处理"><a href="#8-selenium多浏览器处理" class="headerlink" title="8. selenium多浏览器处理"></a>8. selenium多浏览器处理</h1><ul>
<li>chrome，firefox，headless等浏览器的自动化支持</li>
<li>传不同参数来测试不同的浏览器，用来做浏览器兼容性测试</li>
</ul>
<p><strong>例子：</strong></p>
<p>更新test_base.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># _*_ coding: utf-8 _*_</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self</span>):</span><br><span class="line">        browser = os.getenv(<span class="string">&quot;browser&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> browser == <span class="string">&#x27;firefox&#x27;</span>:</span><br><span class="line">            self.driver = webdriver.Firefox()</span><br><span class="line">        <span class="keyword">elif</span> browser == <span class="string">&#x27;headless&#x27;</span>:</span><br><span class="line">            self.driver = webdriver.PhantomJS()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.driver = webdriver.Chrome()</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line">        self.driver.maximize_window()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">teardown</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.quit()</span><br></pre></td></tr></table></figure>

<p>以test_frame.py为例，执行pytest（进入到py测试文件所在目录下）</p>
<ul>
<li><p>MAC命令</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browser=chrome pytest test_frame.py</span><br></pre></td></tr></table></figure>
</li>
<li><p>windows命令</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> browser=firefox</span><br><span class="line">pytest test_frame.py</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="9-1-JavaScript简介"><a href="#9-1-JavaScript简介" class="headerlink" title="9.1 JavaScript简介"></a>9.1 JavaScript简介</h2><ul>
<li><p>JavaScript ( JS ) 是一种具有函数优先的轻量级，解释型或即时编译型的编程语言</p>
</li>
<li><p>可以嵌入到HTML页面对浏览器事件做出响应</p>
</li>
<li><p>也可以基于Node.js技术进行服务器端编程</p>
<blockquote>
<p>js推荐使用单引号<code>‘’</code></p>
</blockquote>
</li>
</ul>
<p><strong>js的组成：</strong></p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220406162834245.png" alt="image-20220406162834245" style="zoom: 43%;">

<p><strong>自动化测试中使用JavaSeript脚本:</strong></p>
<ul>
<li>使用场景：部分元素使用selenium原生方法无法解决</li>
<li>执行dom相关的操作：<ul>
<li>点击事件</li>
<li>滚动事件</li>
<li>属性修改</li>
</ul>
</li>
</ul>
<h2 id="9-2-JavaScript简单使用"><a href="#9-2-JavaScript简单使用" class="headerlink" title="9.2 JavaScript简单使用"></a>9.2 JavaScript简单使用</h2><ul>
<li><p>修改元素属性值</p>
<p>  <code>document.querySelector(&quot;#kw&quot;).value = &quot;霍格沃兹测试学院&quot;</code></p>
</li>
<li><p>按钮点击</p>
<p>  <code>document.querySelector(&quot;#su&quot;).click()</code></p>
</li>
<li><p>页面滚动到底部</p>
<p>  <code>document.documentElement.scrollTop = 10000</code></p>
</li>
</ul>
<h2 id="9-3-Selenium执行执行JavaScript"><a href="#9-3-Selenium执行执行JavaScript" class="headerlink" title="9.3 Selenium执行执行JavaScript"></a>9.3 Selenium执行执行JavaScript</h2><ul>
<li>Selenium执行js<ul>
<li><code>execute_script</code>：执行js</li>
<li><code>return</code>：可以返回js的执行结果</li>
</ul>
</li>
</ul>
<h2 id="9-4-JavaScript操作案例"><a href="#9-4-JavaScript操作案例" class="headerlink" title="9.4 JavaScript操作案例"></a>9.4 JavaScript操作案例</h2><h3 id="9-4-1-案例1：滑动"><a href="#9-4-1-案例1：滑动" class="headerlink" title="9.4.1 案例1：滑动"></a>9.4.1 案例1：滑动</h3><p>案例一：滑动到浏览器底部</p>
<ul>
<li>打开百度首页</li>
<li>输入搜索关键字-霍格沃兹测试学院</li>
<li>点击搜索跳转到搜索结果页</li>
<li>滑动到底部</li>
<li>点击下一页</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestJS1</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_js</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;https://www.baidu.com/&quot;</span>)</span><br><span class="line">        self.driver.find_element(By.ID, <span class="string">&quot;kw&quot;</span>).send_keys(<span class="string">&quot;霍格沃兹测试学院&quot;</span>)</span><br><span class="line">        self.driver.find_element(By.ID, <span class="string">&quot;su&quot;</span>).click()</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        self.driver.execute_script(<span class="string">&quot;document.documentElement.scrollTop = 10000&quot;</span>)</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        self.driver.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;page&quot;]/div/a[10]&#x27;</span>).click()</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="9-4-2-案例2：展示下拉框"><a href="#9-4-2-案例2：展示下拉框" class="headerlink" title="9.4.2 案例2：展示下拉框"></a>9.4.2 案例2：展示下拉框</h3><p>案例二：通过属性修改展示下拉框</p>
<ul>
<li>打开淘宝首页：<a target="_blank" rel="noopener" href="https://www.taobao.com/">https://www.taobao.com/</a></li>
<li>修改下拉框属性</li>
</ul>
<blockquote>
<p>如何选择html下拉框的元素：</p>
<ul>
<li>先在<em>Chrome</em> 开发者工具的控制台输入以下代码：（窗口冻结）</li>
</ul>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220406160843525.png" alt="image-20220406160843525" style="zoom: 67%;">

<ul>
<li>再将鼠标悬停到某一元素上，等待3秒，选择相应元素进行查看：</li>
</ul>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220406160828526.png" alt="image-20220406160828526"></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_js2</span>(<span class="params">self</span>):</span><br><span class="line">    self.driver.get(<span class="string">&quot;https://www.taobao.com/&quot;</span>)</span><br><span class="line">    sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># querySelector()方法返回文档中匹配指定CSS选择器的一个元素。注意： querySelector()方法仅仅返回匹配指定选择器的第一个元素。.className表示修改class为XXX</span></span><br><span class="line">    self.driver.execute_script(<span class="string">&#x27;document.querySelector(&quot;#J_SiteNavMytaobao&quot;).className=&quot;site-nav-menu site-nav-mytaobao site-nav-multi-menu J_MultiMenu site-nav-menu-hover&quot;&#x27;</span>)</span><br><span class="line">    sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="9-4-3-案例3：时间控件"><a href="#9-4-3-案例3：时间控件" class="headerlink" title="9.4.3 案例3：时间控件"></a>9.4.3 案例3：时间控件</h3><p>案例三：通过属性修改时间控件的值</p>
<ul>
<li>打开12306网站：<a target="_blank" rel="noopener" href="https://www.12306.cn/index/">https://www.12306.cn/index/</a></li>
<li>修改时间控件值</li>
<li>打印出发日期</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_js3</span>(<span class="params">self</span>):</span><br><span class="line">    self.driver.get(<span class="string">&quot;https://www.12306.cn/index/&quot;</span>)</span><br><span class="line">    sleep(<span class="number">2</span>)</span><br><span class="line">    self.driver.execute_script(<span class="string">&#x27;document.querySelector(&quot;#train_date&quot;).value=&quot;2022-12-22&quot;&#x27;</span>)</span><br><span class="line">    sleep(<span class="number">2</span>)</span><br><span class="line">    train_date = self.driver.execute_script(<span class="string">&#x27;return document.querySelector(&quot;#train_date&quot;).value&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(train_date)</span><br><span class="line">    sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="10-文件上传、弹框处理"><a href="#10-文件上传、弹框处理" class="headerlink" title="10. 文件上传、弹框处理"></a>10. 文件上传、弹框处理</h1><h2 id="10-1-文件上传"><a href="#10-1-文件上传" class="headerlink" title="10.1 文件上传"></a>10.1 文件上传</h2><ul>
<li>input标签可以直接使用<code>send_keys(文件地址)</code>上传文件</li>
<li>用法：<ul>
<li><code>el = driver.find_element_by_id(&#39;上传按钮id&#39;）</code></li>
<li><code>el.send_keys(&quot;文件路径+文件名&quot;)</code></li>
</ul>
</li>
</ul>
<h3 id="10-1-1-文件上传实例"><a href="#10-1-1-文件上传实例" class="headerlink" title="10.1.1 文件上传实例"></a>10.1.1 文件上传实例</h3><ul>
<li>打开百度图片网址：<a target="_blank" rel="noopener" href="https://image.baidu.com/">https://image.Baidu.com</a></li>
<li>识别上传按钮</li>
<li>点击上传按钮</li>
<li>将本地的图片文件上传</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestFile</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_file</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;https://image.baidu.com/&quot;</span>)</span><br><span class="line">        self.driver.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;sttb&quot;]/img[1]&#x27;</span>).click()</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        self.driver.find_element(By.ID, <span class="string">&quot;uploadImg&quot;</span>).send_keys(<span class="string">&quot;../../pic/偷懒.png&quot;</span>)</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h2 id="10-2-弹框处理机制"><a href="#10-2-弹框处理机制" class="headerlink" title="10.2 弹框处理机制"></a>10.2 弹框处理机制</h2><ul>
<li>在页面操作中有时会遇到 JavaScript 所生成的<code>alert</code>、<code>confirm</code>以及<code>prompt</code>弹框，可以使用<code>switch_to.alert()</code>方法定位到。然后使用<code>text/accept/dismiss/send_keys</code>等方法进行操作。</li>
<li>操作alert常用的方法：<ul>
<li><code>switch_to_alert()</code>：获取当前页面上的警告框。</li>
<li><code>text</code>：返回alert&#x2F;confirm&#x2F;prompt 中的文字信息。</li>
<li><code>accept()</code>：接受现有警告框。</li>
<li><code>dismiss()</code>：解散现有警告框。</li>
<li><code>send_keys(keysToSend)</code>：发送文本至警告框。keysToSend：将文本发送至警告框。</li>
</ul>
</li>
</ul>
<h3 id="10-2-1-alert窗口处理案例"><a href="#10-2-1-alert窗口处理案例" class="headerlink" title="10.2.1 alert窗口处理案例"></a>10.2.1 alert窗口处理案例</h3><p>测试案例</p>
<ul>
<li>打开网页<a target="_blank" rel="noopener" href="https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable">https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable</a></li>
<li>操作窗口右侧页面，将元素1拖拽到元素2</li>
<li>这时候会有一个alert弹框，点击弹框中的”确定”</li>
<li>然后再按”点击运行”</li>
<li>关闭网页</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestAlert</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_alert</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable&quot;</span>)</span><br><span class="line">        sleep(<span class="number">1</span>)</span><br><span class="line">        self.driver.switch_to_frame(<span class="string">&quot;iframeResult&quot;</span>)</span><br><span class="line">        drag = self.driver.find_element(By.ID, <span class="string">&quot;draggable&quot;</span>)</span><br><span class="line">        drop = self.driver.find_element(By.ID, <span class="string">&quot;droppable&quot;</span>)</span><br><span class="line">        action = ActionChains(self.driver)</span><br><span class="line">        action.drag_and_drop(drag, drop).perform()</span><br><span class="line">        <span class="comment"># action.perform()</span></span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        self.driver.switch_to_alert().accept()</span><br><span class="line">        self.driver.switch_to_default_content()</span><br><span class="line">        self.driver.find_element(By.ID, <span class="string">&quot;submitBTN&quot;</span>)</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="11-pageObject（PO）设计模式"><a href="#11-pageObject（PO）设计模式" class="headerlink" title="11. pageObject（PO）设计模式"></a>11. pageObject（PO）设计模式</h1><p>也叫PageObjectModel（POM）</p>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220407105604381.png" alt="image-20220407105604381" style="zoom:50%;">

<h1 id="12-pageObject原则"><a href="#12-pageObject原则" class="headerlink" title="12. pageObject原则"></a>12. pageObject原则</h1><h2 id="12-1-pageObject六大原则"><a href="#12-1-pageObject六大原则" class="headerlink" title="12.1 pageObject六大原则"></a>12.1 pageObject六大原则</h2><ul>
<li><p>The public methods represent the services that the page offers（公共方法表示页面提供的服务）</p>
</li>
<li><p>Try not to expose the internals of the page（尽量不要暴露页面的内部内容）</p>
</li>
<li><p>Generally don’t make assertions（通常不做断言）</p>
</li>
<li><p>Methods return other PageObjects（方法返回其他页面对象）</p>
<p>  如果页面A导航到页面B， Page A 应当return Page B</p>
</li>
<li><p>Need not represent an entire page（不需要代表整个页面）</p>
</li>
<li><p>Different results for the same action are modelled as different methods（同一动作的不同结果被建模为不同的方法）</p>
</li>
</ul>
<p><strong>例子：</strong></p>
<p>Html_fun.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Html_fun</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">title</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_text</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>main.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> func.Html_fun <span class="keyword">import</span> Html_fun</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">send_keys</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">click</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">title</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">click_first_link</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    	<span class="comment"># main页面可以跳转到页面Html_fun，所以要返回该页面</span></span><br><span class="line">        <span class="keyword">return</span> Html_fun()</span><br></pre></td></tr></table></figure>

<p>test_pageobject.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> func.main <span class="keyword">import</span> Main</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestPageObject</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self</span>):</span><br><span class="line">        main = Main()</span><br><span class="line">        <span class="comment"># 可以调用main页面的方法click_first_link，但是main页面可以返回Html_fun，可以继续调用Html_fun页面的方法title</span></span><br><span class="line">        main.click_first_link().title()</span><br></pre></td></tr></table></figure>

<h1 id="13-企业微信的自动化登录"><a href="#13-企业微信的自动化登录" class="headerlink" title="13. 企业微信的自动化登录"></a>13. 企业微信的自动化登录</h1><h2 id="13-1-Web自动化测试之复用浏览器"><a href="#13-1-Web自动化测试之复用浏览器" class="headerlink" title="13.1 Web自动化测试之复用浏览器"></a>13.1 Web自动化测试之复用浏览器</h2><h3 id="13-1-1-为什么要学习复用浏览器"><a href="#13-1-1-为什么要学习复用浏览器" class="headerlink" title="13.1.1 为什么要学习复用浏览器"></a>13.1.1 为什么要学习复用浏览器</h3><ul>
<li>自动化测试过程中，存在人为介入场景</li>
<li>提高调试UI自动化测试脚本效率</li>
</ul>
<h3 id="13-1-2-复用已有浏览器—配置步骤"><a href="#13-1-2-复用已有浏览器—配置步骤" class="headerlink" title="13.1.2 复用已有浏览器—配置步骤"></a>13.1.2 复用已有浏览器—配置步骤</h3><ul>
<li><p>需要退出当前所有的谷歌浏览器（特别注意）</p>
<blockquote>
<p>mac：图标右键退出谷歌浏览器</p>
<p>Windows：退出后，还要在任务管理器关闭谷歌浏览器进程</p>
</blockquote>
</li>
<li><p>输入启动命令，通过命令启动谷歌浏览器</p>
</li>
<li><p>找到chrome的启动路径</p>
</li>
<li><p>配置环境变量</p>
</li>
<li><p>验证是否启动成功</p>
</li>
</ul>
<h4 id="【1】windows环境变量配置："><a href="#【1】windows环境变量配置：" class="headerlink" title="【1】windows环境变量配置："></a>【1】windows环境变量配置：</h4><ul>
<li>获取启动路径</li>
</ul>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220407141602262.png" alt="image-20220407141602262" style="zoom: 45%;">

<ul>
<li><p>配置环境变量</p>
  <img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220407141835337.png" alt="image-20220407141835337" style="zoom: 35%;">
</li>
<li><p>重启命令行 ( 包括谷歌，pycharm，cmd )</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chrome --remote-debugging-port=9222</span><br></pre></td></tr></table></figure>
</li>
<li><p>验证是否启动成功</p>
<p>  在谷歌浏览器的网址输入<code>localhost:9222</code>，如果页面没有报错，那么说明调试模式的浏览器启动成功</p>
</li>
</ul>
<h4 id="【2】Mac环境变量配置"><a href="#【2】Mac环境变量配置" class="headerlink" title="【2】Mac环境变量配置"></a>【2】Mac环境变量配置</h4><ul>
<li><p>获取启动路径（注意：使用tab键，不要手动输入）</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/Applications/Google\ Chrome.app/Contents/MacOS</span><br></pre></td></tr></table></figure>
</li>
<li><p>将启动路径配置到环境变量中（举例）</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Google\ Chrome --remote-debugging-port=9222</span><br></pre></td></tr></table></figure>
</li>
<li><p>验证是否启动成功</p>
<p>  在谷歌浏览器的网址输入<code>localhost:9222</code>，如果页面没有报错，那么说明调试模式的浏览器启动成功</p>
</li>
</ul>
<h3 id="13-1-3-复用已有浏览器—代码设置"><a href="#13-1-3-复用已有浏览器—代码设置" class="headerlink" title="13.1.3 复用已有浏览器—代码设置"></a>13.1.3 复用已有浏览器—代码设置</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义配置的实例对象option</span></span><br><span class="line">option = Options()</span><br><span class="line"><span class="comment"># 修改实例属性为 debug 模式启动的 ip + 端口</span></span><br><span class="line">option.debugger_address = <span class="string">&quot;localhost:9222&quot;</span></span><br><span class="line"><span class="comment"># 实例化 driver 的时候，添加 option 配置</span></span><br><span class="line">driver = webdriver.Chrome(options=option)</span><br></pre></td></tr></table></figure>

<h3 id="13-1-3-复用浏览器实战演示1"><a href="#13-1-3-复用浏览器实战演示1" class="headerlink" title="13.1.3 复用浏览器实战演示1"></a>13.1.3 复用浏览器实战演示1</h3><ul>
<li>问题1：企业微信登录无法通过输入用户名密码的方式解决登录问题，后面所有的脚本都无法执行。</li>
<li>解决方案：通过remote复用浏览器人工登录企业微信。后面的脚本自动执行</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义配置的实例对象option</span></span><br><span class="line">option = Options()</span><br><span class="line"><span class="comment"># 修改实例属性为 debug 模式启动的 ip + 端口</span></span><br><span class="line">option.debugger_address = <span class="string">&quot;localhost:9222&quot;</span></span><br><span class="line"><span class="comment"># 实例化 driver 的时候，添加 option 配置</span></span><br><span class="line">driver = webdriver.Chrome(options=option)</span><br><span class="line">driver.get(<span class="string">&quot;https://work.weixin.qq.com/wework_admin/frame&quot;</span>)</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 点击添加用户</span></span><br><span class="line">driver.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;_hmt_click&quot;]/div[1]/div[4]/div[2]/a[1]/div/span[2]&#x27;</span>).click()</span><br><span class="line">sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="13-1-4-复用浏览器实战演示2"><a href="#13-1-4-复用浏览器实战演示2" class="headerlink" title="13.1.4 复用浏览器实战演示2"></a>13.1.4 复用浏览器实战演示2</h3><ul>
<li>问题2：编写自动化测试脚本过程中，用例的某一步骤出现问题。调试时需要将此步骤前面所有的步骤执行完成之后再复现调试。</li>
<li>解决方案：使用复用浏览器的方式跳过前面的自动化执行步骤，轻松复现出问题的场景，只对问题行代码进行调试。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义配置的实例对象option</span></span><br><span class="line">option = Options()</span><br><span class="line"><span class="comment"># 修改实例属性为 debug 模式启动的 ip + 端口</span></span><br><span class="line">option.debugger_address = <span class="string">&quot;localhost:9222&quot;</span></span><br><span class="line"><span class="comment"># 实例化 driver 的时候，添加 option 配置</span></span><br><span class="line">driver = webdriver.Chrome(options=option)</span><br><span class="line">driver.get(<span class="string">&quot;https://work.weixin.qq.com/wework_admin/frame&quot;</span>)</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 点击添加用户</span></span><br><span class="line">driver.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;_hmt_click&quot;]/div[1]/div[4]/div[2]/a[1]/div/span[2]&#x27;</span>).click()</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 输入姓名</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;yyl&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="13-2-cookie"><a href="#13-2-cookie" class="headerlink" title="13.2 cookie"></a>13.2 cookie</h2><h3 id="13-2-1-cookie是什么"><a href="#13-2-1-cookie是什么" class="headerlink" title="13.2.1 cookie是什么"></a>13.2.1 cookie是什么</h3><p>Cookie 是一些数据，存储于你电脑上的文本文件中。当web服务器向浏览器发送web页面时，在连接关闭后，服务端不会记录用户的信息</p>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220407162024089.png" alt="image-20220407162024089"></p>
<h3 id="13-2-2-为什么要使用Cookie自动化登录"><a href="#13-2-2-为什么要使用Cookie自动化登录" class="headerlink" title="13.2.2 为什么要使用Cookie自动化登录"></a>13.2.2 为什么要使用Cookie自动化登录</h3><ul>
<li>复用浏览器仍然在每次用例开始都需要人为介入</li>
<li>若用例需要经常执行，复用浏览器则不是一个好的选择</li>
<li>大部分cookie的时效性都很长，扫一次可以使用多次</li>
</ul>
<img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/image-20220407163523147.png" alt="image-20220407163523147" style="zoom:40%;">

<blockquote>
<p>常见问题：</p>
<ul>
<li>企业微信cookie有互踢机制。在获取cookie成功之后。<font color="red">不要再进行扫码操作</font></li>
<li>获取cookie的时候，即执行代码<code>get_cookies()</code>时，<font color="red">一定要确保已经登录</font></li>
<li>植入cookie之后需要进入登录页面，刷新验证是否自动登录成功。</li>
</ul>
</blockquote>
<h3 id="13-2-3-使用cookie登录"><a href="#13-2-3-使用cookie登录" class="headerlink" title="13.2.3 使用cookie登录"></a>13.2.3 使用cookie登录</h3><ul>
<li>获取<code>cookie driver.get_cookies()</code></li>
<li>添加 <code>cookie driver.add_cookie(cookie)</code></li>
</ul>
<h3 id="13-2-4-实战之获取cookie"><a href="#13-2-4-实战之获取cookie" class="headerlink" title="13.2.4 实战之获取cookie"></a>13.2.4 实战之获取cookie</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> test_pytest.test_base <span class="keyword">import</span> Base</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestGetCookie</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_get_cookie</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 访问企业微信登录页面</span></span><br><span class="line">        self.driver.get(<span class="string">&quot;https://work.weixin.qq.com/wework_admin/frame&quot;</span>)</span><br><span class="line">        <span class="comment"># 等待20秒人工扫码操作</span></span><br><span class="line">        sleep(<span class="number">20</span>)</span><br><span class="line">        <span class="comment"># 登录成功后，再去获取 cookie 信息</span></span><br><span class="line">        cookie = self.driver.get_cookies()</span><br><span class="line">        <span class="built_in">print</span>(cookie)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: True, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.logined&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;true&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.cs_ind&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;&#x27;&#125;, &#123;&#x27;</span>domain<span class="number">&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wxpay.vid&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;1688854308330636&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wxpay.corpid&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;1970325697979342&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.vid&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;1688854308330636&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: True, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.ref&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;direct&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: True, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.ltype&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;1&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: True, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.refid&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;1526602970601800&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: True, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.sid&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;Q_XlaVNHTvH73y0X-zLYL0FlLS1hveX8NB9YZtMP9eNAmuedzMqh3URVH9YP5Onm&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1680858600</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.c_gdpr&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;0&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.d2st&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;a6767072&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;httpOnly&#x27;</span>: True, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.vst&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;tGvI3Uxd2lC3KNHn3IZ7bLWbZMgOFAu3ODuM2prpU2vc29i152lddB0jUq6mX_EfrMWpNOtNF53Mdm0x0Wp2by4XiMvHoC8dYVKGGL5Sa0DlftlhUkxQgIgRHZistXpGevoxq1cMovsg39mEnWk_7Wd8OVAt7dowoaHMDXgHwZjri6iFQFE6XsmVHuo-BxWTN7VG0g0svQxHGX8tj8c9iZdE2gCNKPaI4kT_66eZCk_VEn0bSujEKK8BvZKz0m4iGVHJimn2vNc9r1ckyCxqOg&#x27;</span>&#125;, &#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.work.weixin.qq.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1651914612</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;wwrtx.i18n_lan&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;zh&#x27;</span>&#125;]</span><br></pre></td></tr></table></figure>

<h3 id="13-2-5-实战之cookie植入"><a href="#13-2-5-实战之cookie植入" class="headerlink" title="13.2.5  实战之cookie植入"></a>13.2.5  实战之cookie植入</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"><span class="keyword">from</span> test_pytest.test_base <span class="keyword">import</span> Base</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestGetCookie</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_get_cookie</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 访问企业微信登录页面</span></span><br><span class="line">        self.driver.get(<span class="string">&quot;https://work.weixin.qq.com/wework_admin/frame&quot;</span>)</span><br><span class="line">        <span class="comment"># 等待10秒人工扫码操作</span></span><br><span class="line">        sleep(<span class="number">10</span>)</span><br><span class="line">        <span class="comment"># 登录成功后，再去获取 cookie 信息</span></span><br><span class="line">        cookie = self.driver.get_cookies()</span><br><span class="line">        <span class="comment"># 将cookie存入一个可持久存储的地方，文件</span></span><br><span class="line">        <span class="comment"># 打开文件的时候添加写入权限</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;../data/cookie.yml&#x27;</span>, <span class="string">&#x27;w+&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">            yaml.safe_dump(cookie, file)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_cookie</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 访问企业微信主界面</span></span><br><span class="line">        self.driver.get(<span class="string">&quot;https://work.weixin.qq.com/wework_admin/frame#contacts&quot;</span>)</span><br><span class="line">        <span class="comment"># 定义cookies，cookie信息从已经写入的cookie文件中获取</span></span><br><span class="line">        cookies = yaml.safe_load(<span class="built_in">open</span>(<span class="string">&#x27;../data/cookie.yml&#x27;</span>, mode=<span class="string">&#x27;r&#x27;</span>))</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        <span class="comment"># 植入cookies——cookie是单个的字典信息</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> cookies:</span><br><span class="line">            self.driver.add_cookie(c)</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">        <span class="comment"># 再次访问企业微信页面，发现无需扫码自动登录，而且可以多次使用</span></span><br><span class="line">        self.driver.get(<span class="string">&quot;https://work.weixin.qq.com/wework_admin/frame#contacts&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="14-企业微信web端自动化测试实战"><a href="#14-企业微信web端自动化测试实战" class="headerlink" title="14. 企业微信web端自动化测试实战"></a>14. 企业微信web端自动化测试实战</h1><h2 id="1-UI-自动化技术"><a href="#1-UI-自动化技术" class="headerlink" title="( 1 ) UI 自动化技术"></a>( 1 ) UI 自动化技术</h2><ul>
<li>Web自动化测试（BS）：Selenium、Cypress、Airtest</li>
<li>App自动化测试（CS）：Appium、ATX、Airtest</li>
</ul>
<h2 id="2-selenium3"><a href="#2-selenium3" class="headerlink" title="( 2 ) selenium3"></a>( 2 ) selenium3</h2><p>官网：<a target="_blank" rel="noopener" href="https://www.selenium.dev/documentation/">https://www.selenium.dev/documentation/</a></p>
<h2 id="3-自动化测试用例设计"><a href="#3-自动化测试用例设计" class="headerlink" title="( 3 ) 自动化测试用例设计"></a>( 3 ) 自动化测试用例设计</h2><p>UI自动化测试场景：</p>
<p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/POv1Qi9G48RtESLSe0krgooyX2SGSI5O1MttGaEh9h4BOw0QAn74eAql8g8s5Y_Zp9kiUWKJeaNiRhxX__wPVE6nMWDQwonwk9b8JyTjKxbXkCk2tDiHiFXYhw52AcPyUUVN6ROzDEp4OArFpgTodOtTNB5Sh9IU7bH80_lFqlBgvmsrfkmQVotA9HbRs3BbN8JkEXoELSW0Ybq2q.svg"></p>
<h3 id="【1】传统UI代码"><a href="#【1】传统UI代码" class="headerlink" title="【1】传统UI代码"></a>【1】传统UI代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add_member</span>():</span><br><span class="line">    <span class="comment"># 1.登录</span></span><br><span class="line">    <span class="comment"># 2，进入首页页面</span></span><br><span class="line">    driver = webdriver.Chrome()</span><br><span class="line">    driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line">    driver.maximize_window()</span><br><span class="line">    driver.get(<span class="string">&quot;https://work.weixin.qq.com/wework_admin/frame#index&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 3，点击&quot;添加成员&quot;按钮</span></span><br><span class="line">    driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;_hmt_click&quot;]/div[1]/div[4]/div[2]/a[1]/div/span[2]&#x27;</span>).click()</span><br><span class="line">    <span class="comment"># 4.填写成员信息</span></span><br><span class="line">    driver.find_element_by_id(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;小花&quot;</span>)</span><br><span class="line">    driver.find_element_by_id(<span class="string">&quot;memberAdd_acctid&quot;</span>).send_keys(<span class="string">&quot;001&quot;</span>)</span><br><span class="line">    driver.find_element_by_id(<span class="string">&quot;memberAdd_biz_mail&quot;</span>).send_keys(<span class="string">&quot;xiaohua001&quot;</span>)</span><br><span class="line">    driver.find_element_by_id(<span class="string">&quot;memberAdd_phone&quot;</span>).send_keys(<span class="string">&quot;18011112222&quot;</span>)</span><br><span class="line">    <span class="comment"># 5.点击&quot;保存&quot;按钮</span></span><br><span class="line">    <span class="comment"># 6.进入通讯录页面</span></span><br><span class="line">    driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;js_contacts52&quot;]/div/div[2]/div/div[4]/div/form/div[1]/a[2]&#x27;</span>).click()</span><br><span class="line">    <span class="comment"># 7.验证=&gt;断言</span></span><br></pre></td></tr></table></figure>

<p>传统代码痛点：</p>
<ul>
<li>大段重复代码</li>
<li>无法适应UI变化</li>
</ul>
<h3 id="【2】PO设计思想"><a href="#【2】PO设计思想" class="headerlink" title="【2】PO设计思想"></a>【2】PO设计思想</h3><p>官网：<a target="_blank" rel="noopener" href="https://www.selenium.dev/zh-cn/documentation/test_practices/encouraged/page_object_models/">https://www.selenium.dev/zh-cn/documentation/test_practices/encouraged/page_object_models/</a></p>
<ul>
<li>分工</li>
<li>页面 &#x3D;&#x3D;&gt; 类<ul>
<li>属性（名词）：元素</li>
<li>方法（动词）：功能</li>
</ul>
</li>
</ul>
<p><strong>PO原则解读：</strong></p>
<ul>
<li>属性意义<ul>
<li>不要暴露页面内部的元素给外部</li>
<li>不需要建模UI内的所有元素</li>
</ul>
</li>
<li>方法意义<ul>
<li>用公共方法代表UI所提供的功能</li>
<li>方法应该返回其他的PageObject或者返回用于断言的数据</li>
<li>同样的行为不同的结果可以建模为不同的方法</li>
<li>不要在方法内加断言</li>
</ul>
</li>
</ul>
<p><strong>PO模式下代码：</strong></p>
<p>（1）需求：</p>
<ol>
<li>登录</li>
<li>进入【首页页面】</li>
<li>点击【首页的】添加成员”按钮</li>
<li>在【成员页面】填写成员信息</li>
<li>点击【成员页面】的”保存”按钮</li>
<li>进入【通讯录页面】</li>
<li>断言</li>
</ol>
<p>（2）PageObject：类</p>
<ul>
<li><p>首页main_page</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainPage</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    首页</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, driver</span>):</span><br><span class="line">        self.driver = driver</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">click_add_member_button</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        点击”添加成员“按钮</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">from</span> web_test_actual_combat.page_object.member_page <span class="keyword">import</span> MemberPage</span><br><span class="line">        self.driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;_hmt_click&quot;]/div[1]/div[4]/div[2]/a[1]/div/span[2]&#x27;</span>).click()</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> MemberPage(self.driver)</span><br></pre></td></tr></table></figure>
</li>
<li><p>成员页面member_page</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MemberPage</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    添加成员页面</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, driver</span>):</span><br><span class="line">        self.driver = driver</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_member_info</span>(<span class="params">self, name, acctid, mail, phone</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        添加成员信息，并保存</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">from</span> web_test_actual_combat.page_object.contact_page <span class="keyword">import</span> ContactPage</span><br><span class="line">        <span class="comment"># 填写成员信息</span></span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;username&quot;</span>).send_keys(name)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;memberAdd_acctid&quot;</span>).send_keys(acctid)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;memberAdd_biz_mail&quot;</span>).send_keys(mail)</span><br><span class="line">        self.driver.find_element_by_id(<span class="string">&quot;memberAdd_phone&quot;</span>).send_keys(phone)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        self.driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;js_contacts76&quot;]/div/div[2]/div/div[4]/div/form/div[1]/a[2]&#x27;</span>).click()</span><br><span class="line">        <span class="keyword">return</span> ContactPage(self.driver)</span><br></pre></td></tr></table></figure>
</li>
<li><p>通讯录页面contact_page</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ContactPage</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, driver</span>):</span><br><span class="line">        self.driver = driver</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_member_names</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        获取通讯录成员</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># self.driver.find_element_by_xpath(&#x27;//*[@id=&quot;member_list&quot;]/tr[1]/td[2]&#x27;)</span></span><br><span class="line">        element = self.driver.find_elements_by_css_selector(<span class="string">&quot;.member_colRight_memberTable_td:nth-child(2)&quot;</span>)</span><br><span class="line">        name_list = [ele.get_attribute(<span class="string">&quot;title&quot;</span>) <span class="keyword">for</span> ele <span class="keyword">in</span> element]</span><br><span class="line">        <span class="keyword">return</span> name_list</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="【3】企业微信PO建模"><a href="#【3】企业微信PO建模" class="headerlink" title="【3】企业微信PO建模"></a>【3】企业微信PO建模</h3><p><img src="/2022/03/30/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UxAdyScEMK_thNkoV-6J7RjVBjpwSkuY1LqxXPSDirwiM_zqxrIea9M2eTxpffrFstV3PRYUuDByRFlkfrqBddLCU3fn1aJKIi48gXrPZWlT5XnwZR7fnLI8nTrM2YPwJnUkVjes4wBmnTQMPzDclj_J0p7moVwvJzTYTGQ6EQPwB_gsF-sV1Z7dQSVq5mjNF9ksziMA1W00.svg"></p>
<ul>
<li>黄色的方块代表一个类</li>
<li>每条线代表这个页面提供的方法</li>
<li>箭头的始端为开始页面</li>
<li>箭头的末端为跳转页面或需要断言的数据</li>
</ul>
<p>获取yam</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">24.4 web端常见Bug解析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-03-30 10:36:53 / 修改时间：10:56:58" itemprop="dateCreated datePublished" datetime="2022-03-30T10:36:53+08:00">2022-03-30</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-页面布局方面"><a href="#1-页面布局方面" class="headerlink" title="1. 页面布局方面"></a>1. 页面布局方面</h1><h2 id="1-1-页面一行内容超长展示错乱"><a href="#1-1-页面一行内容超长展示错乱" class="headerlink" title="1.1 页面一行内容超长展示错乱"></a>1.1 页面一行内容超长展示错乱</h2><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330104304951.png" alt="image-20220330104304951" style="zoom:50%;">

<h2 id="1-2-更换设备布局错乱"><a href="#1-2-更换设备布局错乱" class="headerlink" title="1.2 更换设备布局错乱"></a>1.2 更换设备布局错乱</h2><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330104343241.png" alt="image-20220330104343241" style="zoom:50%;">





<h1 id="2-页面元素方面"><a href="#2-页面元素方面" class="headerlink" title="2. 页面元素方面"></a>2. 页面元素方面</h1><h2 id="2-1-输入域提示信息不明确"><a href="#2-1-输入域提示信息不明确" class="headerlink" title="2.1 输入域提示信息不明确"></a>2.1 输入域提示信息不明确</h2><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330104504547.png" alt="image-20220330104504547" style="zoom:50%;">

<h2 id="2-2-输入框包含html字符时出现异常"><a href="#2-2-输入框包含html字符时出现异常" class="headerlink" title="2.2 输入框包含html字符时出现异常"></a>2.2 输入框包含html字符时出现异常</h2><p><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330104603016.png" alt="image-20220330104603016"></p>
<h1 id="3-功能方面"><a href="#3-功能方面" class="headerlink" title="3.  功能方面"></a>3.  功能方面</h1><h2 id="3-1-功能不符合需求"><a href="#3-1-功能不符合需求" class="headerlink" title="3.1 功能不符合需求"></a>3.1 功能不符合需求</h2><p><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330104947396.png" alt="image-20220330104947396"></p>
<h2 id="3-2-提示信息错误"><a href="#3-2-提示信息错误" class="headerlink" title="3.2 提示信息错误"></a>3.2 提示信息错误</h2><h2 id="3-3-JS报错"><a href="#3-3-JS报错" class="headerlink" title="3.3 JS报错"></a><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330105012025.png" alt="image-20220330105012025">3.3 JS报错</h2><p><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330105120091.png" alt="image-20220330105120091"></p>
<h2 id="3-4-更改不同步"><a href="#3-4-更改不同步" class="headerlink" title="3.4 更改不同步"></a>3.4 更改不同步</h2><p>登录后打开多个页面。在一个页面中操作修改内容，在另一个页面中查看，已经修改过的内容在另一个页面上没有体现。</p>
<h2 id="3-5-登录状态不同步"><a href="#3-5-登录状态不同步" class="headerlink" title="3.5 登录状态不同步"></a>3.5 登录状态不同步</h2><p>打开多个页面。其中一个页面登录成功，另一个页面刷新，没有同步为登录状态。</p>
<h1 id="4-其他"><a href="#4-其他" class="headerlink" title="4. 其他"></a>4. 其他</h1><h2 id="4-1-页面请求失败"><a href="#4-1-页面请求失败" class="headerlink" title="4.1 页面请求失败"></a>4.1 页面请求失败</h2><p><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330105635848.png" alt="image-20220330105635848"></p>
<h2 id="4-2-加载时间太长"><a href="#4-2-加载时间太长" class="headerlink" title="4.2 加载时间太长"></a>4.2 加载时间太长</h2><p><img src="/2022/03/30/24-4-web%E7%AB%AF%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E6%9E%90/image-20220330105656438.png" alt="image-20220330105656438"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/30/24-3-css%E8%AE%B2%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/30/24-3-css%E8%AE%B2%E8%A7%A3/" class="post-title-link" itemprop="url">24.3 css讲解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-03-30 09:45:09 / 修改时间：10:34:56" itemprop="dateCreated datePublished" datetime="2022-03-30T09:45:09+08:00">2022-03-30</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-基础入门"><a href="#1-基础入门" class="headerlink" title="1. 基础入门"></a>1. 基础入门</h1><h2 id="1-1-什么是CSS"><a href="#1-1-什么是CSS" class="headerlink" title="1.1 什么是CSS"></a>1.1 什么是CSS</h2><ul>
<li>CSS指层叠样式表（Cascading Style Sheets）</li>
<li>样式通常存储在样式表中</li>
</ul>
<h2 id="1-2-为什么要使用CSS"><a href="#1-2-为什么要使用CSS" class="headerlink" title="1.2 为什么要使用CSS"></a>1.2 为什么要使用CSS</h2><ul>
<li>样式定义如何显示HTML元素</li>
<li>为了解决内容与表现分离的问题</li>
<li>主要目的：可以让相同的一个页面在不同的浏览器当中呈现相同的样式</li>
</ul>
<h1 id="2-基础语法"><a href="#2-基础语法" class="headerlink" title="2. 基础语法"></a>2. 基础语法</h1><h2 id="2-1-css组成"><a href="#2-1-css组成" class="headerlink" title="2.1 css组成"></a>2.1 css组成</h2><p><img src="/2022/03/30/24-3-css%E8%AE%B2%E8%A7%A3/image-20220330094940938.png" alt="image-20220330094940938"></p>
<h2 id="2-2-CSS选择器"><a href="#2-2-CSS选择器" class="headerlink" title="2.2 CSS选择器"></a>2.2 CSS选择器</h2><p>-<br>    id选择器：<code>#id&#123;&#125;</code></p>
<ul>
<li>class选择器：<code>.className&#123;&#125;</code></li>
<li>元素选择器：<code>tag</code></li>
<li>属性选择器：<code>[属性]&#123;&#125;</code></li>
</ul>
<h2 id="2-2-css创建"><a href="#2-2-css创建" class="headerlink" title="2.2 css创建"></a>2.2 css创建</h2><ul>
<li><p>外部样式表：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;mystyle.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>内部样式表：</p>
</li>
<li><p>&#96;&#96;&#96;html</p>
  <style>
      hr{color:sienna;}
      p{margin-left:20px;}
  </style>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 内联样式：</span><br><span class="line"></span><br><span class="line">    ```html</span><br><span class="line">    &lt;p style=&quot;color:sienna;margin-left:20px&quot;&gt;这是一个段落。&lt;/p&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-3-css样式"><a href="#2-3-css样式" class="headerlink" title="2.3 css样式"></a>2.3 css样式</h2><h3 id="2-3-1-背景"><a href="#2-3-1-背景" class="headerlink" title="2.3.1 背景"></a>2.3.1 背景</h3><ul>
<li>background：简写属性，可以跟下面的所有值</li>
<li>background-color：设置元素的背景颜色</li>
<li>background-image：把图像设置为背景</li>
<li>background-position：设置背景图像的起始位置</li>
<li>background-repeat：设置背景图像是否及如何重复</li>
</ul>
<h3 id="2-3-2-字体"><a href="#2-3-2-字体" class="headerlink" title="2.3.2 字体"></a>2.3.2 字体</h3><ul>
<li>font：在一个声明中设置所有的字体属性</li>
<li>font-family：指定文本的字体系列</li>
<li>font-size：指定文本的字体大小</li>
<li>font-style：指定文本的字体样式</li>
<li>font-weight：指定字体的粗细</li>
</ul>
<h3 id="2-3-3-列表"><a href="#2-3-3-列表" class="headerlink" title="2.3.3 列表"></a>2.3.3 列表</h3><ul>
<li>list-style：把所有用于列表的属性设置在一个声明中</li>
<li>list-style-image：将图像设置为列表项标志</li>
<li>list-style-type：设置列表项标值的类型</li>
</ul>
<h3 id="2-3-4-表格"><a href="#2-3-4-表格" class="headerlink" title="2.3.4 表格"></a>2.3.4 表格</h3><ul>
<li>border：设置表格边框</li>
<li>border-collapse：设置表格的边框是否被折叠成一个单一的边框或者隔开</li>
<li>width：定义表格的宽度</li>
<li>text-align：表格中的文本对齐</li>
<li>padding：设置表格中的填充</li>
</ul>
<h3 id="2-3-5-定位"><a href="#2-3-5-定位" class="headerlink" title="2.3.5 定位"></a>2.3.5 定位</h3><ul>
<li>static：没有定位，遵循正常的文档流对象</li>
<li>relative：相对定位，元素的定位是相对其正常位置</li>
<li>fixed：元素的位置相对于浏览器窗口是固定位置</li>
<li>absolute：绝对定位，元素的位置相对于最近的已定位父元素</li>
<li>sticky：粘性定位，基于用户的滚动位置来定位</li>
</ul>
<h3 id="2-3-5-盒子模型"><a href="#2-3-5-盒子模型" class="headerlink" title="2.3.5 盒子模型"></a>2.3.5 盒子模型</h3><ul>
<li><p>Margin（外边距）：清除边框外的区域，外边距是透明的。</p>
</li>
<li><p>Border（边框）：围绕在内边距和内容外的边框。</p>
</li>
<li><p>Padding（内边距）：清除内容周围的区域，内边距是透明的。</p>
</li>
<li><p>Content（内容）：盒子的内容，显示文本和图像</p>
  <img src="/2022/03/30/24-3-css%E8%AE%B2%E8%A7%A3/image-20220330103005675.png" alt="image-20220330103005675" style="zoom:60%;"></li>
</ul>
<h3 id="2-3-6-网页布局"><a href="#2-3-6-网页布局" class="headerlink" title="2.3.6 网页布局"></a>2.3.6 网页布局</h3><p><img src="/2022/03/30/24-3-css%E8%AE%B2%E8%A7%A3/image-20220330103446927.png" alt="image-20220330103446927"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/29/24-2-Javascript%E8%AE%B2%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/29/24-2-Javascript%E8%AE%B2%E8%A7%A3/" class="post-title-link" itemprop="url">24.2 Javascript讲解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-29 15:31:47" itemprop="dateCreated datePublished" datetime="2022-03-29T15:31:47+08:00">2022-03-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-07 17:27:14" itemprop="dateModified" datetime="2022-04-07T17:27:14+08:00">2022-04-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h1><ul>
<li>JavaScript是脚本语言<ul>
<li>一种轻量级的编程语言</li>
<li>是可插入HTML页面的编程代码</li>
<li>插入HTML页面后，可由所有的现代浏览器执行</li>
</ul>
</li>
<li>作用：<ul>
<li>直接写入HTML输出流</li>
<li>对事件的反应</li>
<li>改变HTML内容</li>
<li>改变HTML图像</li>
<li>改变HTML样式</li>
<li>验证输入</li>
</ul>
</li>
</ul>
<h1 id="2-用法"><a href="#2-用法" class="headerlink" title="2. 用法"></a>2. 用法</h1><h2 id="2-1-位置"><a href="#2-1-位置" class="headerlink" title="2.1 位置"></a>2.1 位置</h2><ul>
<li>脚本必须位于<code>&lt;script&gt;&lt;/script&gt;</code>标签之间</li>
<li>可被放置在HTML页面的<code>&lt;body&gt;</code>和<code>&lt;head&gt;</code>部分中</li>
</ul>
<h2 id="2-2-引用方式"><a href="#2-2-引用方式" class="headerlink" title="2.2 引用方式"></a>2.2 引用方式</h2><ul>
<li><p>内部：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;我的第一个JavaScript&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>外部：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;myScript.js&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>外部的js脚本是不能包含<script>标签的</p>
</blockquote>
<img src="24-2-Javascript讲解/image-20220329161125310.png" alt="image-20220329161125310" style="zoom: 50%;" />

<p><img src="/24-2-Javascript%E8%AE%B2%E8%A7%A3/image-20220329161207170.png" alt="image-20220329161207170"></p>
<h1 id="3-输出"><a href="#3-输出" class="headerlink" title="3. 输出"></a>3. 输出</h1><h3 id="3-1-显示数据"><a href="#3-1-显示数据" class="headerlink" title="3.1 显示数据"></a>3.1 显示数据</h3><ul>
<li><p>弹出警告框：<code>window.alert()</code></p>
<p>  <img src="/24-2-Javascript%E8%AE%B2%E8%A7%A3/image-20220329162759272.png" alt="image-20220329162759272"></p>
</li>
<li><p>将内容写到HTML文档中：<code>document.write()</code></p>
<p>  <img src="/24-2-Javascript%E8%AE%B2%E8%A7%A3/image-20220329162925975.png" alt="image-20220329162925975"></p>
</li>
<li><p>写入到浏览器的控制台：<code>console.log()</code></p>
<p>  <img src="/24-2-Javascript%E8%AE%B2%E8%A7%A3/image-20220329163036843.png" alt="image-20220329163036843"></p>
</li>
</ul>
<h1 id="4-基础语法"><a href="#4-基础语法" class="headerlink" title="4. 基础语法"></a>4. 基础语法</h1><h3 id="4-1-字面量"><a href="#4-1-字面量" class="headerlink" title="4.1 字面量"></a>4.1 字面量</h3><ul>
<li>数字：整数、小数、科学计数（e）</li>
<li>字符串：单引号、双引号</li>
<li>数组：[ ]</li>
<li>对象：{ }</li>
<li>函数：function</li>
</ul>
<h2 id="4-2-变量"><a href="#4-2-变量" class="headerlink" title="4.2 变量"></a>4.2 变量</h2><ul>
<li>声明变量：var</li>
<li>赋值：=</li>
</ul>
<h2 id="4-3-操作符"><a href="#4-3-操作符" class="headerlink" title="4.3 操作符"></a>4.3 操作符</h2><ul>
<li>算术运算符：=    +    -    *    /</li>
<li>赋值运算符：=    +=    -=</li>
<li>比较运算符：<    >    ==    ===    !=</li>
</ul>
<h2 id="4-4-函数"><a href="#4-4-函数" class="headerlink" title="4.4 函数"></a>4.4 函数</h2><ul>
<li><p>关键字：function</p>
</li>
<li><p><code>function myFunction(a,b)&#123;return a*b;&#125;</code></p>
  <img src="24-2-Javascript讲解/image-20220329171307815.png" alt="image-20220329171307815" style="zoom:50%;" /></li>
</ul>
<h1 id="5-操作HTML-DOM"><a href="#5-操作HTML-DOM" class="headerlink" title="5. 操作HTML DOM"></a>5. 操作HTML DOM</h1><h2 id="5-1HTML-DOM"><a href="#5-1HTML-DOM" class="headerlink" title="5.1HTML DOM"></a>5.1HTML DOM</h2><p>HTML DOM：文档对象模型（Document Object Model）</p>
<img src="24-2-Javascript讲解/image-20220329171406930.png" alt="image-20220329171406930" style="zoom: 37%;" />

<h2 id="5-2-查找HTML元素"><a href="#5-2-查找HTML元素" class="headerlink" title="5.2 查找HTML元素"></a>5.2 查找HTML元素</h2><ul>
<li><p>通过id：<code>var x=document.getElementByld(&quot;xx&quot;);</code></p>
<p>  <img src="/24-2-Javascript%E8%AE%B2%E8%A7%A3/image-20220329173812722.png" alt="image-20220329173812722"></p>
</li>
<li><p>通过标签名：<code>var y=document.getElementsByTagName(&quot;p&quot;);</code></p>
</li>
<li><p>通过类名：<code>var x=document.getElementsByClassName(&quot;xx&quot;);</code></p>
</li>
</ul>
<h2 id="5-3-改变HTML"><a href="#5-3-改变HTML" class="headerlink" title="5.3 改变HTML"></a>5.3 改变HTML</h2><ul>
<li>内容：<code>document.getElementById(id).innerHTML=新的 HTML</code></li>
<li>属性：<code>document.getElementById(id).attribute=新属性值</code></li>
</ul>
<h2 id="5-4-Coojie"><a href="#5-4-Coojie" class="headerlink" title="5.4 Coojie"></a>5.4 Coojie</h2><p>读取：<code>var x=document.cookie;</code></p>
<h2 id="5-5-使用事件"><a href="#5-5-使用事件" class="headerlink" title="5.5 使用事件"></a>5.5 使用事件</h2><ul>
<li>当用户点击鼠标时：onclick=JavaScript</li>
<li>当网页已加载时：onload=JavaScript</li>
<li>当图像已加载时：onunload=JavaScript</li>
<li>当鼠标移动到元素上时：onmouseover=JavaScript</li>
<li>当输入字段被改变时：onchange=JavaScript</li>
<li>当用户触发按键时：onmousedown=JavaScript</li>
</ul>
<h1 id="6-操作浏览器BOM"><a href="#6-操作浏览器BOM" class="headerlink" title="6. 操作浏览器BOM"></a>6. 操作浏览器BOM</h1><h2 id="6-1-浏览器对象模型"><a href="#6-1-浏览器对象模型" class="headerlink" title="6.1 浏览器对象模型"></a>6.1 浏览器对象模型</h2><ul>
<li>Window 对象</li>
<li>所有浏览器都支持<code>window</code>对象。它表示浏览器窗口</li>
<li>所有JavaScript全局对象、函数以及变量均自动成为<code>window</code>对象的成员</li>
<li>HTML DOM 的<code>document</code>是<code>window</code> 对象的属性之一</li>
</ul>
<h2 id="6-2浏览器窗口"><a href="#6-2浏览器窗口" class="headerlink" title="6.2浏览器窗口"></a>6.2浏览器窗口</h2><ul>
<li>获取浏览器窗口尺寸：<ul>
<li><code>window.innerHeight</code>-浏览器窗口的内部高度（包括滚动条）</li>
<li><code>window.innerWidth</code>-浏览器窗口的内部宽度（包括滚动条）</li>
</ul>
</li>
<li>打开新窗口：<code>window.open()</code></li>
<li>关闭当前窗口：<code>window.close()</code></li>
</ul>
<h2 id="6-3-用户屏幕"><a href="#6-3-用户屏幕" class="headerlink" title="6.3 用户屏幕"></a>6.3 用户屏幕</h2><ul>
<li>可用的屏幕宽度：<code>screen.availWidth</code></li>
<li>可用的屏幕高度：<code>screen.availHeight</code></li>
</ul>
<h2 id="6-4-当前页面的地址"><a href="#6-4-当前页面的地址" class="headerlink" title="6.4 当前页面的地址"></a>6.4 当前页面的地址</h2><ul>
<li>返回wep主机的域名：<code>location.hostname</code></li>
<li>返回当前页面的路径和文件名：<code>location.pathname</code></li>
<li>返回所使用的web 协议：<code>location.protocol</code></li>
</ul>
<h2 id="6-5-浏览器的历史"><a href="#6-5-浏览器的历史" class="headerlink" title="6.5 浏览器的历史"></a>6.5 浏览器的历史</h2><ul>
<li>与在浏览器点击后退按钮相同：<code>history.back()</code></li>
<li>与在浏览器中点击向前按钮相同：<code>history.forward()</code></li>
</ul>
</script></p></blockquote>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/29/24-1-HTML%E8%AE%B2%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/29/24-1-HTML%E8%AE%B2%E8%A7%A3/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-29 11:24:43" itemprop="dateCreated datePublished" datetime="2022-03-29T11:24:43+08:00">2022-03-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-03-31 16:18:04" itemprop="dateModified" datetime="2022-03-31T16:18:04+08:00">2022-03-31</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-HTML基本概念"><a href="#1-HTML基本概念" class="headerlink" title="1. HTML基本概念"></a>1. HTML基本概念</h1><p>1.1 什么是web</p>
<ul>
<li><p>web就是world wide web的缩写，称之为全球广域网，俗称WWW</p>
</li>
<li><p>可以理解为是网站服务</p>
</li>
<li><p>网站我们可以认是由多个网页组合在一起而形成一种服务</p>
</li>
<li><p>ewb前端就是来负责一个网站当中前台网页里的内容</p>
</li>
<li><p>网页就是由前端工程师使用HTML语言编写而成的一种文件，它里面会包含</p>
<p>  文字、图片、超链接、声音、视频…</p>
</li>
</ul>
<p>1.2 什么是HTML</p>
<ul>
<li>超文本标记语言（Hyper Text Markyp Language）</li>
<li>描述网页的语言</li>
</ul>
<p>1.3 HTML查看工具</p>
<ul>
<li>浏览器-开发者工具</li>
</ul>
<h1 id="2-HTML基本结构"><a href="#2-HTML基本结构" class="headerlink" title="2. HTML基本结构"></a>2. HTML基本结构</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;！DOCTYPE html&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h1 id="3-HTML基本标签"><a href="#3-HTML基本标签" class="headerlink" title="3. HTML基本标签"></a>3. HTML基本标签</h1><h2 id="3-1-标签"><a href="#3-1-标签" class="headerlink" title="3.1 标签"></a>3.1 标签</h2><ul>
<li><p>双标签</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;标签名称&gt;&lt;/标签名称&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>单标签</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;标签名/&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-2-标签的属性"><a href="#3-2-标签的属性" class="headerlink" title="3.2 标签的属性"></a>3.2 标签的属性</h2><ul>
<li><p>基本格式</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;标签名 属性1=&quot;属性值1&quot; 属性2=&quot; 属性值2&quot;&gt;&lt;/标签名&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>标签可以拥有多个属性</p>
</li>
<li><p>属性必须写在开始标签中，位于标签名后面</p>
</li>
<li><p>属性之间不区分顺序</p>
</li>
<li><p>标签名与属性、属性与属性之间使用空格隔开</p>
</li>
<li><p>任何属性都有默认值，省略该属性表示使用默认值</p>
</li>
</ul>
<h3 id="1-HTML全局属性"><a href="#1-HTML全局属性" class="headerlink" title="[1] HTML全局属性"></a>[1] HTML全局属性</h3><ul>
<li>class：规定元素的类名</li>
<li>id：规定元素的&lt;font color&#x3D;’red’&gt;唯一id</li>
<li>lang：设置元素中内容的语言代码</li>
<li>style：规定元素的行内样式</li>
<li>title：规定元素的额外信息</li>
</ul>
<h3 id="2-HTML事件属性-窗口事件"><a href="#2-HTML事件属性-窗口事件" class="headerlink" title="[2] HTML事件属性-窗口事件"></a>[2] HTML事件属性-窗口事件</h3><ul>
<li>使HTML事件触发浏览器中的行为，比方说当用户点击某个HTML元素时启动一段JavaScript</li>
<li>适用于<body>标签</body></li>
<li>onblur：当窗口失去焦点时运行脚本</li>
<li>onfocus：当窗口获得焦点时运行脚本</li>
<li>onload：当文档加载时运行脚本</li>
</ul>
<h3 id="3-HTML事件属性-表单事件"><a href="#3-HTML事件属性-表单事件" class="headerlink" title="[3] HTML事件属性-表单事件"></a>[3] HTML事件属性-表单事件</h3><ul>
<li>form表单内元素<ul>
<li>onblur：当窗口失去焦点时运行脚本</li>
<li>onchange：当元素改变时运行脚本</li>
<li>onfocus：当窗口获得焦点时运行脚本</li>
<li>onreset：当表单重置时运行脚本。HTML5不支持</li>
<li>onselect：当选取元素时运行脚本</li>
<li>onsubmit：当提交表单时运行脚本</li>
</ul>
</li>
</ul>
<h3 id="4-HTML事件属性-键盘事件"><a href="#4-HTML事件属性-键盘事件" class="headerlink" title="[4] HTML事件属性-键盘事件"></a>[4] HTML事件属性-键盘事件</h3><ul>
<li>onkeydown：当按下按键时运行脚本</li>
<li>onkeypress：当按下并松开按键时运行脚本</li>
<li>onkeyup：当松开按键时运行脚本</li>
</ul>
<h3 id="5-HTML事件属性-鼠标事件"><a href="#5-HTML事件属性-鼠标事件" class="headerlink" title="[5] HTML事件属性-鼠标事件"></a>[5] HTML事件属性-鼠标事件</h3><ul>
<li>onclick：当单击鼠标时运行脚本</li>
<li>ondblclick：当双击鼠标时运行脚本</li>
<li>onmousedown：当按下鼠标按钮时运行脚本</li>
<li>onmousemove：当鼠标指针移动时运行脚本</li>
<li>onmouseout：当鼠标指针移出元素时运行脚本</li>
<li>onmouseover：当鼠标指针移至元素之上时运行脚本</li>
<li>onmouseup：当松开鼠标按钮时运行脚本</li>
</ul>
<h3 id="6-HTML事件属性-多媒体事件"><a href="#6-HTML事件属性-多媒体事件" class="headerlink" title="[6] HTML事件属性-多媒体事件"></a>[6] HTML事件属性-多媒体事件</h3><ul>
<li>onabort：：当发生中止事件时运行脚本</li>
</ul>
<h2 id="3-3-注释标签"><a href="#3-3-注释标签" class="headerlink" title="3.3 注释标签"></a>3.3 注释标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注释内容-&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：在源文档中插入注释。注释不会在浏览器中显示</p>
</li>
</ul>
<h2 id="3-4-文档标题标签"><a href="#3-4-文档标题标签" class="headerlink" title="3.4 文档标题标签"></a>3.4 文档标题标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用</p>
<ul>
<li>定义浏览器工具栏中的标题</li>
<li>提供页面被添加到收藏夹时的标题</li>
<li>显示在搜索引擎结果中的页面标题</li>
</ul>
</li>
</ul>
<h2 id="3-5-标题标签"><a href="#3-5-标题标签" class="headerlink" title="3.5 标题标签"></a>3.5 标题标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>-<span class="tag">&lt;<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是标题1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>这是标题2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：用来定义HTML标题</p>
<ul>
<li><code>&lt;h1&gt;</code>定义重要等级最高的标题。</li>
<li><code>&lt;h6&gt;</code>定义重要等级最低的标题</li>
</ul>
</li>
<li><p>属性：全局属性、事件属性</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;site-text-logo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text-logo&quot;</span>&gt;</span>测试人社区<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-6-段落标签"><a href="#3-6-段落标签" class="headerlink" title="3.6 段落标签"></a>3.6 段落标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：标签定义段落</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;lh&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>属性：全局属性、事件属性</p>
</li>
</ul>
<h2 id="3-7-容器标签"><a href="#3-7-容器标签" class="headerlink" title="3.7 容器标签"></a>3.7 容器标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：用于对文档中的行内元素进行组合，提供了一种将文本的一部分或者文<br>  档的一部分独立出来的方式</p>
</li>
<li><p>属性：全局属性、事件属性</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;ember123&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ember-view&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-8-容器标签"><a href="#3-8-容器标签" class="headerlink" title="3.8 容器标签"></a>3.8 容器标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：</p>
<ul>
<li>标签定义HTML文档中的一个分隔区块或者一个区域部分</li>
<li><code>&lt;div&gt;</code>父元素经常与CSS一起使用，用来布局网页</li>
</ul>
</li>
<li><p>属性：全局属性、事件属性</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;contents clearfix&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-9-图像标签"><a href="#3-9-图像标签" class="headerlink" title="3.9 图像标签"></a>3.9 图像标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：标签定义HTML页面中的图像</p>
</li>
<li><p>属性：</p>
<ul>
<li><p>src：规定显示图像的URL（必须）</p>
</li>
<li><p>alt：规定图像的替代文本（必须）</p>
</li>
<li><p>title：鼠标悬停于图像时显示的文本</p>
</li>
<li><p>width：图像的宽度</p>
</li>
<li><p>height：图像的高度</p>
</li>
<li><p>border：设置图像边框的宽度</p>
</li>
</ul>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span> <span class="attr">width</span>=<span class="string">&quot;32&quot;</span> <span class="attr">height</span>=<span class="string">&quot;32&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/lettet avatar/v4/64.png&quot;</span> <span class="attr">title</span>=<span class="string">&quot;图片&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-10-超链接标签"><a href="#3-10-超链接标签" class="headerlink" title="3.10 超链接标签"></a>3.10 超链接标签</h2><ul>
<li><p>标签：</p>
</li>
<li><p>&#96;&#96;&#96;html<br>  <a></a></p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 作用：标签定义超链接，用于从一个页面链接到另一个页面</span><br><span class="line"></span><br><span class="line">- 属性：全局属性、事件属性</span><br><span class="line"></span><br><span class="line">    - href：规定链接的目标URL</span><br><span class="line"></span><br><span class="line">        ```html</span><br><span class="line">        &lt;a href=&quot;/search&quot; title=&quot;搜索主题、帖子、用户或分类&quot; aria-label=&quot;搜索主题、帖子、用户或分类&quot; id=&quot;search-button&quot; class=&quot;icon btn-flat&quot;&gt;..&lt;/a&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-11-列表标签-无序列表"><a href="#3-11-列表标签-无序列表" class="headerlink" title="3.11 列表标签-无序列表"></a>3.11 列表标签-无序列表</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>...&lt;/1i&gt;<span class="tag">&lt;<span class="name">li</span>&gt;</span>..&lt;/1i&gt;<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：定义无序列表</p>
</li>
<li><p><code>&lt;ul&gt;</code>标签与<code>&lt;li&gt;</code>标签一起使用，创建无序列表</p>
</li>
<li><p>属性：全局属性、事件属性</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-12-列表标签-有序列表"><a href="#3-12-列表标签-有序列表" class="headerlink" title="3.12 列表标签-有序列表"></a>3.12 列表标签-有序列表</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>...&lt;/1i&gt;&lt;1i&gt;...&lt;/1i&gt;<span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：</p>
<ul>
<li>定义了一个有序列表，列表排序以数字来显示</li>
<li>使用<code>&lt;li&gt;</code>标签来定义列表选项</li>
</ul>
</li>
<li><p>属性：全局属性、事件属性</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">id</span>=<span class="string">&quot;ember104&quot;</span> <span class="attr">class</span>=<span class="string">&quot;category-breadcrumb&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;ember106&quot;</span> <span class="attr">class</span>=<span class="string">&quot;select-kit&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;ember111&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none；&quot;</span> <span class="attr">class</span>=<span class="string">&quot;select-kit &quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!----&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-13-表格标签"><a href="#3-13-表格标签" class="headerlink" title="3.13 表格标签"></a>3.13 表格标签</h2><ul>
<li><p>标签：</p>
<ul>
<li><p>表格：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>行：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>单元格：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：定义表格。</p>
</li>
</ul>
</li>
<li><p>属性：全局属性、事件属性</p>
<ul>
<li>border：规定表格单元是否拥有边框</li>
</ul>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">&quot;ember137&quot;</span> <span class="attr">class</span>=<span class="string">&quot;topic-list ember-view&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">class</span>=<span class="string">&quot;default&quot;</span>&gt;</span>..<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">class</span>=<span class="string">&quot;posters&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">class</span>=<span class="string">&quot;posts sortable num&quot;</span>&gt;</span>回复<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">class</span>=<span class="string">&quot;views sortable num&quot;</span>&gt;</span>浏览<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">class</span>=<span class="string">&quot;activity sortable num&quot;</span>&gt;</span>活动<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    &lt;！----&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span>...<span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-14-表单域"><a href="#3-14-表单域" class="headerlink" title="3.14 表单域"></a>3.14 表单域</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：创建供用户输入的HTML</p>
</li>
<li><p>表单属性：全局属性、事件属性。</p>
<ul>
<li>action：指定接收并处理表单信息的服务器url地址</li>
<li>method：表单数据的提交方式。</li>
<li>name：指定表单名称</li>
</ul>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;hidden-login-form&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/login&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none；&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-15-表单标签"><a href="#3-15-表单标签" class="headerlink" title="3.15 表单标签"></a>3.15 表单标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：规定了用户可以在其中输入数据的输入字段，输入字段可通过多种方式改变,取决于<code>type</code>属性</p>
</li>
<li><p>属性：全局属性、事件属性</p>
<ul>
<li>type：规定要显示的<code>&lt;input&gt;</code>元素的类型<ul>
<li>text：单行文本输入框（不换行的）</li>
<li>password：密码输人框</li>
<li>radio：单选框（配合name可以实现单选效果</li>
<li>checkbox：复选框</li>
<li>button：普通按钮</li>
<li>submit：提交按钮</li>
<li>reset：重置按钮</li>
<li>image：图像形式的提交按钮</li>
<li>file：文件域，点击之后打开文件选择器</li>
</ul>
</li>
<li>name：控件名称，<code>name</code>相同则表示是同一组数据</li>
<li>value：指定<code>&lt;input&gt;</code>元素<code>value</code>的值</li>
<li>size：显示大小</li>
<li>checked：是否被选中</li>
<li>maxlength：控制输入的最大字符数量</li>
</ul>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;signin_username&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;signin_password&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;redirect&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">id</span>=<span class="string">&quot;signin-button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;登录&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-16-文本域标签"><a href="#3-16-文本域标签" class="headerlink" title="3.16 文本域标签"></a>3.16 文本域标签</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：定义一个多行的文本输人控件</p>
</li>
<li><p>属性：全局属性、事件属性</p>
<ul>
<li>cols：规定文本区域内可见的宽度</li>
<li>disabled：规定禁用文本区域</li>
<li>name：规定文本区域的名称</li>
<li>readonly：规定文本区域为只读</li>
<li>rows：规定文本区域内可见的行数</li>
<li>placeholder：规定一个简短的提示，描述文本区域期望的输入值</li>
</ul>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">aria-label</span>=<span class="string">&quot;在此键入&quot;</span> <span class="attr">autocomplete</span>：=<span class="string">&quot;discourse&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;4&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;在此键入&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ember1874&quot;</span> <span class="attr">class</span>=<span class="string">&quot;d-editor&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-17-下拉菜单"><a href="#3-17-下拉菜单" class="headerlink" title="3.17 下拉菜单"></a>3.17 下拉菜单</h2><ul>
<li><p>标签：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">option</span>&gt;</span>..<span class="tag">&lt;/<span class="name">option</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：</p>
<ul>
<li>用来创建下拉列表</li>
<li><code>&lt;select&gt;</code>元素中的<code>&lt;option&gt;</code>标签定义了列表中的可用选项</li>
</ul>
</li>
<li><p>属性：全局属性、事件属性</p>
<ul>
<li>disabled：当该属性为true时，会禁用下拉列表</li>
<li>multiple：当该属性为true时，可选择多个选项</li>
<li>name：定义下拉列表的名称</li>
<li>size：规定下拉列表中可见选项的数目</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/23/little-tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/23/little-tips/" class="post-title-link" itemprop="url">little tips</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-23 22:49:46" itemprop="dateCreated datePublished" datetime="2022-03-23T22:49:46+08:00">2022-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-08 13:30:36" itemprop="dateModified" datetime="2022-04-08T13:30:36+08:00">2022-04-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>pip install pyreadline -i https://pypi.tuna.tsinghua.edu.cn/simple</code></p>
<p>pycharm快捷键：</p>
<p>Alt+鼠标左键选择多行</p>
<p>Alt+Enter 导入</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/10/16-2-%E5%86%85%E7%BD%AE%E5%BA%93-logging%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/10/16-2-%E5%86%85%E7%BD%AE%E5%BA%93-logging%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">16.2 内置库-logging高级使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-10 18:06:15" itemprop="dateCreated datePublished" datetime="2022-03-10T18:06:15+08:00">2022-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-03-14 13:55:50" itemprop="dateModified" datetime="2022-03-14T13:55:50+08:00">2022-03-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">测试学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="logging进阶"><a href="#logging进阶" class="headerlink" title="logging进阶"></a>logging进阶</h1><table>
<thead>
<tr>
<th>组件</th>
<th>说明</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>loggers</code></td>
<td>提供应用程序代码直接使用的接口</td>
<td>记录器</td>
</tr>
<tr>
<td><code>handlers</code></td>
<td>用于将日志记录发送到指定的目的位置</td>
<td>处理器</td>
</tr>
<tr>
<td><code>filters</code></td>
<td>提供更细粒度的日志过滤功能，用于决定哪些日志记录将会被输出（其他的日志记录将会被忽略）</td>
<td>过滤器</td>
</tr>
<tr>
<td><code>formatters</code></td>
<td>用于控制日志信息的最终输出格式</td>
<td>格式化器</td>
</tr>
</tbody></table>
<ul>
<li>日志器（logger）需要通过处理器（handler）将日志信息输出到目标位置，如：文件、sys.stdout、网络等；</li>
<li>不同的处理器（handler）可以将日志输出到不同的位置；</li>
<li>日志器（logger）可以设置多个处理器（handler）将同一条日志记录输出到不同的位置；</li>
<li>每个处理器（handler）都可以设置自己的过滤器（filter）实现日志过滤，从而只保留感兴趣的日志；</li>
<li>每个处理器（handler）都可以设置自己的格式器（formatter）实现同一条日志以不同的格式输出到不同的地方。</li>
</ul>
<p>简单点说就是：日志器（logger）是入口，真正干活儿的是处理器（handler），处理器（handler）还可以通过过滤器（filter）和格式器（formatter）对要输出的日志内容做过滤和格式化等处理操作。</p>
<h2 id="1-日志记录的流程"><a href="#1-日志记录的流程" class="headerlink" title="1. 日志记录的流程"></a>1. 日志记录的流程</h2><p><img src="/2022/03/10/16-2-%E5%86%85%E7%BD%AE%E5%BA%93-logging%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8/image-20220311114150750.png" alt="image-20220311114150750"></p>
<h3 id="1-1-loggers记录器"><a href="#1-1-loggers记录器" class="headerlink" title="1.1 loggers记录器"></a>1.1 loggers记录器</h3><p><code>Logger</code>是一个树形层级结构，在使用接口<code>debug</code>，<code>info</code>，<code>warn</code>，<code>error</code>，<code>critical</code>之前必须创建<code>Logger</code>实例，即创建一个记录器，如果没有显式的进行创建，则默认创建一个<code>root logger</code>，并应用默认的日志级别<code>WARNING</code>，处理器<code>Handler</code>(<code>StreamHandler</code>，即将日志信息打印输出在标准输出上)，和格式化器<code>Formatter</code>(默认的格式即为第一个简单使用程序中输出的格式)。</p>
<p>1.提供应用程序的调用接口</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logger = logging.getLogger(__name__)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>logger</code>是单例的</p>
</blockquote>
<p>2.决定日志记录的级别</p>
<p><img src="/2022/03/10/16-2-%E5%86%85%E7%BD%AE%E5%BA%93-logging%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8/image-20220311181121432.png" alt="image-20220311181121432"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logger.setLevel(logging.ERROR)</span><br></pre></td></tr></table></figure>

<p>3.将日志内容传递到相关联的<code>handlers</code>中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">logger.addHandler()</span><br><span class="line">logger.removeHandler()</span><br></pre></td></tr></table></figure>

<h3 id="1-2-Handlers处理器"><a href="#1-2-Handlers处理器" class="headerlink" title="1.2 Handlers处理器"></a>1.2 Handlers处理器</h3><p>它们将日志分发到不同的目的地，可以是文件、标准输出、邮件，或者通过<code>socke</code>、<code>http</code>等协议发送到任何地方。</p>
<p>1.<code>StreamHandler</code></p>
<p>标准输出<code>stout</code>（如显示器）分发器。</p>
<p>创建方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh = logging.StreamHandler(strem = <span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>2.<code>FileHandler</code></p>
<p>将日志保存到磁盘文件的处理器</p>
<p>创建方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fh = logging.FileHandler(filename, mode = <span class="string">&#x27;a&#x27;</span>, encoding = <span class="literal">None</span>, delay = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<p><code>setFormatter()</code>：设置当前<code>handler</code>对象使用的消息格式。</p>
<p>其他的Handler：</p>
<ul>
<li><code>BaseRotatingHandler</code></li>
<li><code>Rotating Filehandler</code><br>  滚动的多日志输出，按照时间&#x2F;其他方式去生成多个日志</li>
<li><code>TimedRotatingfilehandler</code></li>
</ul>
<p>以下的使用较少：</p>
<ul>
<li><code>Sockethandler</code></li>
<li><code>Dataaramhandler</code></li>
<li><code>Smtphandler</code></li>
<li><code>Sysloghandler</code></li>
<li><code>Nteventloghandler</code></li>
<li><code>Httphandler</code></li>
<li><code>WatchedFilehandler</code></li>
<li><code>Qutelehandler</code></li>
<li><code>Nullhandler</code></li>
</ul>
<h2 id="Formatters格式"><a href="#Formatters格式" class="headerlink" title="Formatters格式"></a>Formatters格式</h2><p><code>Formatter()</code>对象用来最终设置日志信息的顺序、结构和内容。<br>其构造方法为</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ft = logging.Formatter(fmt = <span class="literal">None</span>, datefmt = <span class="literal">None</span>, style = <span class="string">&#x27; %&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><code>datefmt</code>默认是<code>%Y-%m-%d  %H:%M:%S</code>样式的<br><code>style</code>参数默认为百分符<code>%</code>，这表示<code>%(&lt;dictionary key&gt;:)s</code>格式的字符串。</p>
<p>同上一节<em>1.2.2 logging模块定义的格式字符串字段</em></p>
<p>例子：在一个python文件中设置日志。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 记录器</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">logger = logging.getLogger(<span class="string">&#x27;applog&#x27;</span>)</span><br><span class="line">logger.setLevel(logging.DEBUG)</span><br><span class="line"><span class="comment"># 必须设置为两个handler中级别更低的</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理器handler</span></span><br><span class="line">consoleHandler = logging.StreamHandler()</span><br><span class="line">consoleHandler.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 没有给handler指定日志级别，将使用logger的级别</span></span><br><span class="line">fileHandler = logging.FileHandler(filename=<span class="string">&#x27;addDemo.log&#x27;</span>)</span><br><span class="line">consoleHandler.setLevel(logging.INFO)</span><br><span class="line"></span><br><span class="line"><span class="comment"># formatter格式</span></span><br><span class="line">formatter = logging.Formatter(<span class="string">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)</span><br><span class="line"><span class="comment"># 里面的8，10实现了占位对齐</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 给处理器设置格式</span></span><br><span class="line">consoleHandler.setFormatter(formatter)</span><br><span class="line">fileHandler.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 记录器要设置处理器</span></span><br><span class="line">logger.addHandler(consoleHandler)</span><br><span class="line">logger.addHandler(fileHandler)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个过滤器</span></span><br><span class="line">flt = logging.Filter(<span class="string">&quot;applog&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 关联过滤器</span></span><br><span class="line">logger.addFilter(flt)</span><br><span class="line">fileHandler.addFilter(flt)</span><br><span class="line">name = <span class="string">&#x27;yyl&#x27;</span></span><br><span class="line">age = <span class="number">30</span></span><br><span class="line"><span class="comment"># 打印日志的代码</span></span><br><span class="line"><span class="comment"># logging.debug()#不能使用这个了！！！会使用WARNING的版本，不会用之前的记录器</span></span><br><span class="line">logger.debug(<span class="string">&#x27;name:%s,age:%s&#x27;</span> % (name, age))</span><br></pre></td></tr></table></figure>

<p><code>addDemo.log</code>文件中：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2022</span><span class="number">-03</span><span class="number">-14</span> <span class="number">10</span>:<span class="number">32</span>:<span class="number">48</span>,<span class="number">631</span> - applog - DEBUG - name:yyl,age:<span class="number">30</span></span><br></pre></td></tr></table></figure>

<p>但是如果多个文件都需要设置日志，可以采用封装的方法。</p>
<h2 id="封装日志公共模块"><a href="#封装日志公共模块" class="headerlink" title="封装日志公共模块"></a>封装日志公共模块</h2><p>定义获取 logger 的公共方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_logger</span>():</span><br><span class="line">    <span class="comment"># create logger</span></span><br><span class="line">    logger = logging.getLogger(os.path.basename(__file__))</span><br><span class="line">    logger.setLevel(logging.DEBUG)</span><br><span class="line">    <span class="comment"># create console handler and set level to debug</span></span><br><span class="line">    ch = logging.FileHandler(filename=<span class="string">&#x27;mylog.log&#x27;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    ch.setLevel(logging.DEBUG)</span><br><span class="line">    <span class="comment"># create formatter</span></span><br><span class="line">    formatter = logging.Formatter(<span class="string">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)</span><br><span class="line">    <span class="comment"># add formatter to ch</span></span><br><span class="line">    ch.setFormatter(formatter)</span><br><span class="line">    <span class="comment"># add ch to logger</span></span><br><span class="line">    logger.addHandler(ch)</span><br><span class="line">    <span class="keyword">return</span>  logger</span><br></pre></td></tr></table></figure>

<p>在需要日志的文件中导入这个方法即可。</p>
<h2 id="日志配置文件"><a href="#日志配置文件" class="headerlink" title="日志配置文件"></a>日志配置文件</h2><p>或者可以使用日志配置，更方便简洁。</p>
<ul>
<li>创建log_util.py 文件</li>
<li>使用的地方导入 logger对象，调用对应的日志输出方法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> logging.handlers <span class="keyword">import</span> RotatingFileHandler</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绑定绑定句柄到logger对象</span></span><br><span class="line">logger = logging.getLogger(__name__)</span><br><span class="line"><span class="comment"># 获取当前工具文件所在的路径</span></span><br><span class="line">root_path = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line"><span class="comment"># 拼接当前要输出日志的路径</span></span><br><span class="line">log_dir_path = os.sep.join([root_path, <span class="string">f&#x27;/logs&#x27;</span>])</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(log_dir_path):</span><br><span class="line">    os.mkdir(log_dir_path)</span><br><span class="line"><span class="comment"># 创建日志记录器，指明日志保存路径,每个日志的大小，保存日志的上限</span></span><br><span class="line">file_log_handler = RotatingFileHandler(os.sep.join([log_dir_path, <span class="string">&#x27;log.log&#x27;</span>]), maxBytes=<span class="number">1024</span> * <span class="number">1024</span>, backupCount=<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 设置日志的格式</span></span><br><span class="line">date_string = <span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span></span><br><span class="line">formatter = logging.Formatter(</span><br><span class="line">    <span class="string">&#x27;[%(asctime)s] [%(levelname)s] [%(filename)s]/[line: %(lineno)d]/[%(funcName)s] %(message)s &#x27;</span>, date_string)</span><br><span class="line"><span class="comment"># 日志输出到控制台的句柄</span></span><br><span class="line">stream_handler = logging.StreamHandler()</span><br><span class="line"><span class="comment"># 将日志记录器指定日志的格式</span></span><br><span class="line">file_log_handler.setFormatter(formatter)</span><br><span class="line">stream_handler.setFormatter(formatter)</span><br><span class="line"><span class="comment"># 为全局的日志工具对象添加日志记录器</span></span><br><span class="line"><span class="comment"># 绑定绑定句柄到logger对象</span></span><br><span class="line">logger.addHandler(stream_handler)</span><br><span class="line">logger.addHandler(file_log_handler)</span><br><span class="line"><span class="comment"># 设置日志输出级别</span></span><br><span class="line">logger.setLevel(level=logging.INFO)</span><br></pre></td></tr></table></figure>

<p>配置文件 <code>logging.conf</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[loggers] <span class="meta"># loggers 对象列表</span></span><br><span class="line">        keys=root,main</span><br><span class="line"></span><br><span class="line">[handlers] <span class="meta"># handlers 对象列表</span></span><br><span class="line">        keys=consoleHandlers,fileHandlers</span><br><span class="line"></span><br><span class="line">[formatters] <span class="meta"># formatters 列表</span></span><br><span class="line">        keys=fmt</span><br><span class="line"></span><br><span class="line">[logger_root]</span><br><span class="line">        level=DEBUG</span><br><span class="line">        handlers=consoleHandlers,fileHandlers</span><br><span class="line"></span><br><span class="line">[logger_main] <span class="meta"># main logger</span></span><br><span class="line">        level = DEBUG</span><br><span class="line">        handlers = fileHandlers</span><br><span class="line">        qualname=main</span><br><span class="line">        propagate=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">[handler_consoleHandlers] # consoleHandlers 指定控制器的输出方向、级别、输出格式、参数</span><br><span class="line">        <span class="keyword">class</span> = StreamHandler</span><br><span class="line">        level = DEBUG</span><br><span class="line">        formatter = fmt</span><br><span class="line">        args = (sys.stdout,)</span><br><span class="line"></span><br><span class="line">[handler_fileHandlers] # 循环日志文件 以文件大小来 分割# 每隔 <span class="number">1000</span> Byte 划分一个日志文件，备份文件为 <span class="number">3</span> 个</span><br><span class="line">        <span class="keyword">class</span> = logging.handlers.RotatingFileHandler</span><br><span class="line">        level = DEBUG</span><br><span class="line">        formatter = fmt</span><br><span class="line">        args = (<span class="string">&#x27;./log/test.log&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="number">10000</span>, <span class="number">3</span>, <span class="string">&#x27;UTF-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">[formatter_fmt] <span class="meta"># fmt 格式</span></span><br><span class="line">        format=%(asctime)s - %(name)s - %(levelname)s - %(message)s</span><br><span class="line">        datefmt=</span><br></pre></td></tr></table></figure>

<p> python文件 <code>logging_demo.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging.config</span><br><span class="line"><span class="comment"># 读取配置文件 # 采用配置文件</span></span><br><span class="line">logging.config.fileConfig(<span class="string">&quot;logging.conf&quot;</span>)</span><br><span class="line"><span class="comment"># 创建logger</span></span><br><span class="line">logger = logging.getLogger(<span class="string">&#x27;main&#x27;</span>)</span><br><span class="line"><span class="comment"># 日志生成</span></span><br><span class="line">logger.debug(<span class="string">&#x27; Hello tom&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>文件目录如下：<br><img src="/2022/03/10/16-2-%E5%86%85%E7%BD%AE%E5%BA%93-logging%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8/image-20220314135523837.png" alt="image-20220314135523837" style="zoom:50%;"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/10/16-1-%E5%86%85%E7%BD%AE%E5%BA%93-logging/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/10/16-1-%E5%86%85%E7%BD%AE%E5%BA%93-logging/" class="post-title-link" itemprop="url">16.1 内置库-logging</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-10 16:37:25" itemprop="dateCreated datePublished" datetime="2022-03-10T16:37:25+08:00">2022-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-03-11 16:09:32" itemprop="dateModified" datetime="2022-03-11T16:09:32+08:00">2022-03-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">测试学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="日志logging"><a href="#日志logging" class="headerlink" title="日志logging"></a>日志logging</h1><h2 id="1-日志作用"><a href="#1-日志作用" class="headerlink" title="1. 日志作用"></a>1. 日志作用</h2><ul>
<li>调试</li>
<li>复制定位问题</li>
<li>数据分析</li>
</ul>
<h2 id="1-1-日志的级别"><a href="#1-1-日志的级别" class="headerlink" title="1.1 日志的级别"></a>1.1 日志的级别</h2><table>
<thead>
<tr>
<th>级别</th>
<th>何时使用</th>
<th>级别数值</th>
</tr>
</thead>
<tbody><tr>
<td><code>DEBUG</code></td>
<td>细节信息，仅当诊断问题时适用</td>
<td>10</td>
</tr>
<tr>
<td><code>INFO</code></td>
<td>确认程序按预期运行</td>
<td>20</td>
</tr>
<tr>
<td><code>WARNING</code></td>
<td>表明有已经或即将发生的意外（例如：磁盘空间不足）程序仍按预期进行</td>
<td>30</td>
</tr>
<tr>
<td><code>ERROR</code></td>
<td>由于严重的问题，程序的某些功能已经不能正常执行</td>
<td>40</td>
</tr>
<tr>
<td><code>CRITICAL</code></td>
<td>严重的错误，表明程序已不能继续执行</td>
<td>50</td>
</tr>
</tbody></table>
<blockquote>
<p>默认的日志级别是<code>warning</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">&quot;debug_msg&quot;</span>)</span><br><span class="line">logging.info(<span class="string">&quot;info_msg&quot;</span>)</span><br><span class="line">logging.warning(<span class="string">&quot;warning_msg&quot;</span>)</span><br><span class="line">logging.error(<span class="string">&quot;error_msg&quot;</span>)</span><br><span class="line">logging.critical(<span class="string">&quot;critical_msg&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WARNING:root:warning_msg</span><br><span class="line">ERROR:root:error_msg</span><br><span class="line">CRITICAL:root:critical_msg</span><br></pre></td></tr></table></figure>

<h2 id="1-2-日志的用法"><a href="#1-2-日志的用法" class="headerlink" title="1.2 日志的用法"></a>1.2 日志的用法</h2><p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/howto/logging.html">https://docs.python.org/zh-cn/3/howto/logging.html</a></p>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>logging.debug(msg, *args, **kwargs)</code></td>
<td>创建一条严重级别为<code>DEBUG</code>的日志记录</td>
</tr>
<tr>
<td><code>logging.info(msg, *args, **kwargs)</code></td>
<td>创建一条严重级别为<code>INFO</code>的日志记录</td>
</tr>
<tr>
<td><code>logging.warning(msg, *args, **kwargs)</code></td>
<td>创建一条严重级别为<code>WARNING</code>的日志记录</td>
</tr>
<tr>
<td><code>logging.error(msg, *args, **kwargs)</code></td>
<td>创建一条严重级别为<code>ERROR</code>的日志记录</td>
</tr>
<tr>
<td><code>logging.critical(msg, *args, **kwargs)</code></td>
<td>创建一条严重级别为<code>CRITICAL</code>的日志记录</td>
</tr>
<tr>
<td><code>logging.log(level, *args, **kwargs)</code></td>
<td>创建一条严重级别为<code>level</code>的日志记录</td>
</tr>
<tr>
<td><strong><code>logging.basicConfig(**kwargs)</code></strong></td>
<td>对**<code>root logger</code>**进行一次性配置</td>
</tr>
</tbody></table>
<p>日志的输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">logging.basicConfig(level=logging.DEBUG)<span class="comment">#将日志的输出级别调节为debug</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">&#x27;demo.log&#x27;</span>,level=logging.DEBUG)<span class="comment">#将日志的输出到demo.log文件中</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">&#x27;demo.log&#x27;</span>,filemote=<span class="string">&#x27;w&#x27;</span>,level=logging.DEBUG)<span class="comment">#先清空再写入，也可以设置为继续写</span></span><br></pre></td></tr></table></figure>

<p>常用的输出（字符串格式化输出）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">logging.debug(<span class="string">&quot;姓名 %s, 年龄%d&quot;</span>,name,age)</span><br><span class="line">logging.debug(<span class="string">&quot;姓名 %s, 年龄%d&quot;</span>,% (name,age))</span><br><span class="line">logging.debug(<span class="string">&quot;姓名 &#123;&#125;, 年龄&#123;&#125;&quot;</span>.<span class="built_in">format</span>(name,age))</span><br><span class="line">logging.debug(<span class="string">f&quot;姓名<span class="subst">&#123;name&#125;</span>, 年龄<span class="subst">&#123;age&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>直接输入上面的代码并不会打印，因为logging的默认级别是WARNING，而此处的日志级别是DEBUG，需要手动设置日志级别，用下面的方法。</p>
<h3 id="1-2-1-logging-basicConfig-函数说明"><a href="#1-2-1-logging-basicConfig-函数说明" class="headerlink" title="1.2.1 logging.basicConfig()函数说明"></a>1.2.1 logging.basicConfig()函数说明</h3><p>该方法用于为logging日志系统做一些基本配置，方法定义如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logging.basicConfig(**kwargs)</span><br></pre></td></tr></table></figure>

<p>该函数可接收的关键字参数如下：</p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>filename</td>
<td>指定日志输出目标文件的文件名，指定该设置项后日志信息就不会被输出到控制台了，日志文件会在python代码文件的相同目录下会生成</td>
</tr>
<tr>
<td>filemode</td>
<td>指定日志文件的打开模式，默认为<code>&#39;a&#39;</code>。需要注意的是，该选项要在filename指定时才有效。<strong>如果希望每次清空再写入，设置为<code>&#39;w&#39;</code></strong></td>
</tr>
<tr>
<td>format</td>
<td>指定日志格式字符串，即指定日志输出时所包含的字段信息以及它们的顺序。logging模块定义的格式字段下面会列出。</td>
</tr>
<tr>
<td><strong>datefmt</strong></td>
<td>指定日期&#x2F;时间格式。需要注意的是，该选项要在format中包含时间字段%(asctime)s时才有效</td>
</tr>
<tr>
<td>level</td>
<td>指定日志器的日志级别。设置哪个级别，就会打印<strong>哪个级别以上</strong>的日志</td>
</tr>
<tr>
<td>stream</td>
<td>指定日志输出目标stream，如<code>sys.stdout</code>、<code>sys.stderr</code>以及网络<code>stream</code>。需要说明的是，stream和filename不能同时提供，否则会引发 <code>ValueError</code>异常</td>
</tr>
<tr>
<td>style</td>
<td>Python 3.2中新添加的配置项。指定format格式字符串的风格，可取值为’%’、’{‘和’$’，默认为’%’</td>
</tr>
<tr>
<td>handlers</td>
<td>Python 3.3中新添加的配置项。该选项如果被指定，它应该是一个创建了多个Handler的可迭代对象，这些handler将会被添加到root logger。需要说明的是：filename、stream和handlers这三个配置项只能有一个存在，不能同时出现2个或3个，否则会引发ValueError异常。</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">logging.basicConfig(filename=<span class="string">&#x27;demo.log&#x27;</span>, filemode=<span class="string">&#x27;w&#x27;</span>, level=logging.DEBUG, <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s | %(levelname)-8s | **%(filename)s | %(message)s&#x27;</span>)</span><br><span class="line">logging.debug(<span class="string">&quot;debug_msg&quot;</span>)</span><br><span class="line">logging.info(<span class="string">&quot;info_msg&quot;</span>)</span><br><span class="line">logging.warning(<span class="string">&quot;warning_msg&quot;</span>)</span><br><span class="line">logging.error(<span class="string">&quot;error_msg&quot;</span>)</span><br><span class="line">logging.critical(<span class="string">&quot;critical_msg&quot;</span>)</span><br><span class="line">name = <span class="string">&#x27;张三&#x27;</span></span><br><span class="line">age = <span class="number">18</span></span><br><span class="line">logging.debug(<span class="string">f&quot;姓名<span class="subst">&#123;name&#125;</span>, 年龄<span class="subst">&#123;age&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>在与该文件相同目录下，生成的<code>demo.log</code>，输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2022</span><span class="number">-03</span><span class="number">-11</span> <span class="number">16</span>:<span class="number">00</span>:<span class="number">23</span>,<span class="number">030</span> | DEBUG    | **logging_demo.py | debug_msg</span><br><span class="line"><span class="number">2022</span><span class="number">-03</span><span class="number">-11</span> <span class="number">16</span>:<span class="number">00</span>:<span class="number">23</span>,<span class="number">030</span> | INFO     | **logging_demo.py | info_msg</span><br><span class="line"><span class="number">2022</span><span class="number">-03</span><span class="number">-11</span> <span class="number">16</span>:<span class="number">00</span>:<span class="number">23</span>,<span class="number">030</span> | WARNING  | **logging_demo.py | warning_msg</span><br><span class="line"><span class="number">2022</span><span class="number">-03</span><span class="number">-11</span> <span class="number">16</span>:<span class="number">00</span>:<span class="number">23</span>,<span class="number">030</span> | ERROR    | **logging_demo.py | error_msg</span><br><span class="line"><span class="number">2022</span><span class="number">-03</span><span class="number">-11</span> <span class="number">16</span>:<span class="number">00</span>:<span class="number">23</span>,<span class="number">030</span> | CRITICAL | **logging_demo.py | critical_msg</span><br><span class="line"><span class="number">2022</span><span class="number">-03</span><span class="number">-11</span> <span class="number">16</span>:<span class="number">00</span>:<span class="number">23</span>,<span class="number">030</span> | DEBUG    | **logging_demo.py | 姓名张三, 年龄<span class="number">18</span></span><br></pre></td></tr></table></figure>

<p><code>datefmt</code> 参数的格式：</p>
<table>
<thead>
<tr>
<th align="left">指令</th>
<th align="left">含意</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>%a</code></td>
<td align="left">本地化的缩写星期中每日的名称。</td>
</tr>
<tr>
<td align="left"><code>%A</code></td>
<td align="left">本地化的星期中每日的完整名称。</td>
</tr>
<tr>
<td align="left"><code>%b</code></td>
<td align="left">本地化的月缩写名称。</td>
</tr>
<tr>
<td align="left"><code>%B</code></td>
<td align="left">本地化的月完整名称。</td>
</tr>
<tr>
<td align="left"><code>%c</code></td>
<td align="left">本地化的适当日期和时间表示。</td>
</tr>
<tr>
<td align="left"><strong><code>%d</code></strong></td>
<td align="left">十进制数 [01,31] 表示的月中日。</td>
</tr>
<tr>
<td align="left"><strong><code>%H</code></strong></td>
<td align="left">十进制数 [00,23] 表示的小时（24小时制）。</td>
</tr>
<tr>
<td align="left"><code>%I</code></td>
<td align="left">十进制数 [01,12] 表示的小时（12小时制）。</td>
</tr>
<tr>
<td align="left"><code>%j</code></td>
<td align="left">十进制数 [001,366] 表示的年中日。</td>
</tr>
<tr>
<td align="left"><strong><code>%m</code></strong></td>
<td align="left">十进制数 [01,12] 表示的月。</td>
</tr>
<tr>
<td align="left"><strong><code>%M</code></strong></td>
<td align="left">十进制数 [00,59] 表示的分钟。</td>
</tr>
<tr>
<td align="left"><code>%p</code></td>
<td align="left">本地化的 AM 或 PM 。</td>
</tr>
<tr>
<td align="left"><strong><code>%S</code></strong></td>
<td align="left">十进制数 [00,61] 表示的秒。</td>
</tr>
<tr>
<td align="left"><code>%U</code></td>
<td align="left">十进制数 [00,53] 表示的一年中的周数（星期日作为一周的第一天）。 在第一个星期日之前的新年中的所有日子都被认为是在第 0 周。</td>
</tr>
<tr>
<td align="left"><code>%w</code></td>
<td align="left">十进制数 [0(星期日),6] 表示的周中日。</td>
</tr>
<tr>
<td align="left"><code>%W</code></td>
<td align="left">十进制数 [00,53] 表示的一年中的周数（星期一作为一周的第一天）。 在第一个星期一之前的新年中的所有日子被认为是在第 0 周。</td>
</tr>
<tr>
<td align="left"><code>%x</code></td>
<td align="left">本地化的适当日期表示。</td>
</tr>
<tr>
<td align="left"><code>%X</code></td>
<td align="left">本地化的适当时间表示。</td>
</tr>
<tr>
<td align="left"><code>%y</code></td>
<td align="left">十进制数 [00,99] 表示的没有世纪的年份。</td>
</tr>
<tr>
<td align="left"><strong><code>%Y</code></strong></td>
<td align="left">十进制数表示的带世纪的年份。</td>
</tr>
<tr>
<td align="left"><code>%z</code></td>
<td align="left">Time zone offset indicating a positive or negative time difference from UTC&#x2F;GMT of the form +HHMM or -HHMM, where H represents decimal hour digits and M represents decimal minute digits [-23:59, +23:59]. <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/library/time.html#id4">1</a></td>
</tr>
<tr>
<td align="left"><code>%Z</code></td>
<td align="left">Time zone name (no characters if no time zone exists). Deprecated. <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/library/time.html#id4">1</a></td>
</tr>
<tr>
<td align="left"><code>%%</code></td>
<td align="left">字面的 <code>&#39;%&#39;</code> 字符。</td>
</tr>
</tbody></table>
<h3 id="1-2-2-logging模块定义的格式字符串字段"><a href="#1-2-2-logging模块定义的格式字符串字段" class="headerlink" title="1.2.2 logging模块定义的格式字符串字段"></a>1.2.2 logging模块定义的格式字符串字段</h3><p>logging模块中定义好的可以用于format格式字符串中的字段：</p>
<table>
<thead>
<tr>
<th>字段&#x2F;属性名称</th>
<th>使用格式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><strong>asctime</strong></td>
<td>%(asctime)s</td>
<td>日志事件发生的时间–人类可读时间，如：2003-07-08 16:49:45,896</td>
</tr>
<tr>
<td>created</td>
<td>%(created)f</td>
<td>日志事件发生的时间–时间戳，就是当时调用time.time()函数返回的值</td>
</tr>
<tr>
<td>relativeCreated</td>
<td>%(relativeCreated)d</td>
<td>日志事件发生的时间相对于logging模块加载时间的相对毫秒数（目前还不知道干嘛用的）</td>
</tr>
<tr>
<td>msecs</td>
<td>%(msecs)d</td>
<td>日志事件发生事件的毫秒部分</td>
</tr>
<tr>
<td><strong>levelname</strong></td>
<td>%(levelname)s</td>
<td>该日志记录的文字形式的日志级别（’DEBUG’, ‘INFO’, ‘WARNING’, ‘ERROR’, ‘CRITICAL’）</td>
</tr>
<tr>
<td>levelno</td>
<td>%(levelno)s</td>
<td>该日志记录的数字形式的日志级别（10, 20, 30, 40, 50）</td>
</tr>
<tr>
<td>name</td>
<td>%(name)s</td>
<td>所使用的日志器名称，默认是’root’，因为默认使用的是 rootLogger</td>
</tr>
<tr>
<td><strong>message</strong></td>
<td>%(message)s</td>
<td>日志记录的文本内容，通过 <code>msg % args</code>计算得到的</td>
</tr>
<tr>
<td>pathname</td>
<td>%(pathname)s</td>
<td>调用日志记录函数的源码文件的全路径</td>
</tr>
<tr>
<td><strong>filename</strong></td>
<td>%(filename)s</td>
<td>pathname的文件名部分，包含文件后缀</td>
</tr>
<tr>
<td>module</td>
<td>%(module)s</td>
<td>filename的名称部分，不包含后缀</td>
</tr>
<tr>
<td>lineno</td>
<td>%(lineno)d</td>
<td>调用日志记录函数的源代码所在的行号</td>
</tr>
<tr>
<td>funcName</td>
<td>%(funcName)s</td>
<td>调用日志记录函数的函数名</td>
</tr>
<tr>
<td>process</td>
<td>%(process)d</td>
<td>进程ID</td>
</tr>
<tr>
<td>processName</td>
<td>%(processName)s</td>
<td>进程名称，Python 3.1新增</td>
</tr>
<tr>
<td>thread</td>
<td>%(thread)d</td>
<td>线程ID</td>
</tr>
<tr>
<td>threadName</td>
<td>%(thread)s</td>
<td>线程名称</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/10/15-10-%E5%86%85%E7%BD%AE%E5%BA%93-%E5%A4%9A%E7%BA%BF%E7%A8%8Bthreding/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="杨艺琳">
      <meta itemprop="description" content="我就是这条街最靓的仔">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨艺琳的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/10/15-10-%E5%86%85%E7%BD%AE%E5%BA%93-%E5%A4%9A%E7%BA%BF%E7%A8%8Bthreding/" class="post-title-link" itemprop="url">15.10 内置库-多线程threding</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-03-10 10:17:32 / 修改时间：16:38:48" itemprop="dateCreated datePublished" datetime="2022-03-10T10:17:32+08:00">2022-03-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">测试学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>多线程</p>
<h2 id="1-多任务"><a href="#1-多任务" class="headerlink" title="1 多任务"></a>1 多任务</h2><p>多任务的最大好处是充分利用CPU资源，提高程序的执行效率。</p>
<h3 id="1-1多任务的概念"><a href="#1-1多任务的概念" class="headerlink" title="1.1多任务的概念"></a>1.1多任务的概念</h3><p>多任务是指在同一时间内执行多个任务。</p>
<h3 id="1-2多任务的两种表现形式"><a href="#1-2多任务的两种表现形式" class="headerlink" title="1.2多任务的两种表现形式"></a>1.2多任务的两种表现形式</h3><ul>
<li>并发（在一段时间内交替去执行多个任务）</li>
<li>并行（在一段时间内真正的同时一起执行多个任务）</li>
</ul>
<h4 id="1-2-1-并发"><a href="#1-2-1-并发" class="headerlink" title="1.2.1 并发"></a>1.2.1 并发</h4><p>在一段时间内交替去执行多个任务。</p>
<img src="/2022/03/10/15-10-%E5%86%85%E7%BD%AE%E5%BA%93-%E5%A4%9A%E7%BA%BF%E7%A8%8Bthreding/image-20220310104923973.png" alt="image-20220310104923973" style="zoom:40%;">

<p>例子：<br>对于单核cu处理多任务，操作系统<strong>轮流</strong>让各个任务交替执行。</p>
<h4 id="1-2-2-并行"><a href="#1-2-2-并行" class="headerlink" title="1.2.2 并行"></a>1.2.2 并行</h4><p>在一段时间内真正的同时一起执行多个任务。</p>
<img src="/2022/03/10/15-10-%E5%86%85%E7%BD%AE%E5%BA%93-%E5%A4%9A%E7%BA%BF%E7%A8%8Bthreding/image-20220310105041361.png" alt="image-20220310105041361" style="zoom:40%;">

<p>例子：<br>对于多核CPU处理多任务，操作系统会给CPU的每个内核安排一个执行的任务，多个内核是真正的<strong>一起同时执行多个任务</strong>。这里需要注意多核CPU是并行的执行多任务，始终有多个任务一起执行。</p>
<h2 id="2-进程"><a href="#2-进程" class="headerlink" title="2 进程"></a>2 进程</h2><h3 id="2-1-程序中实现多任务的方式"><a href="#2-1-程序中实现多任务的方式" class="headerlink" title="2.1 程序中实现多任务的方式"></a>2.1 程序中实现多任务的方式</h3><p>在Python中，想要实现多任务可以使用多进程来完成。</p>
<h3 id="2-2-进程的概念"><a href="#2-2-进程的概念" class="headerlink" title="2.2 进程的概念"></a>2.2 进程的概念</h3><p>进程（Process）是<strong>资源分配的最小单位</strong>，它是<strong>操作系统进行资源分配和调度运行的基本单位</strong>，通俗理解：一个<strong>正在运行</strong>的程序就是一个进程。例如：正在运行的QQ，微信等他们都是一个进程。</p>
<blockquote>
<p>注意：<br>一个程序运行后至少有一个进程。</p>
</blockquote>
<h3 id="2-3-进程的作用"><a href="#2-3-进程的作用" class="headerlink" title="2.3 进程的作用"></a>2.3 进程的作用</h3><p>对于<code>hello.py</code>文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun_a</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span>)    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun_b</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fun_a()</span><br><span class="line">fun_b()</span><br></pre></td></tr></table></figure>

<p>这是是一个非常简单的程序，一旦运行<code>hello.py</code>这个程序，按照代码的执行顺序，<code>fun_a</code>函数执行完毕后才能执行<code>fun_b</code>函数。如果可以让<code>fun_a</code>和<code>fun_b</code>同时运行，显然执行<code>hello.py</code>这个程序的效率会大大提升。</p>
<p><img src="/2022/03/10/15-10-%E5%86%85%E7%BD%AE%E5%BA%93-%E5%A4%9A%E7%BA%BF%E7%A8%8Bthreding/image-20220310110553025.png" alt="image-20220310110553025"></p>
<h2 id="3-多进程完成多任务"><a href="#3-多进程完成多任务" class="headerlink" title="3 多进程完成多任务"></a>3 多进程完成多任务</h2><h3 id="3-1-进程的创建步骤"><a href="#3-1-进程的创建步骤" class="headerlink" title="3.1 进程的创建步骤"></a>3.1 进程的创建步骤</h3><ol>
<li><p>导入进程包</p>
<p> <code>import multiprocessing</code></p>
</li>
<li><p>通过进程类创建进程对象</p>
<p> <code>进程对象 = multiprocessing.Process()</code></p>
</li>
<li><p>启动进程执行任务</p>
<p> <code>进程对象.start()</code></p>
</li>
</ol>
<h3 id="3-2-通过进程类创建进程对象"><a href="#3-2-通过进程类创建进程对象" class="headerlink" title="3.2 通过进程类创建进程对象"></a>3.2 通过进程类创建进程对象</h3><p><code>进程对象 = multiprocessing.Process(target = 任务名)</code></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>target</td>
<td>执行的目标任务名，这里指的是函数名(方法名)</td>
</tr>
<tr>
<td>name</td>
<td>进程名，一半不用设置</td>
</tr>
<tr>
<td>group</td>
<td>进程组，目前只能使用None</td>
</tr>
</tbody></table>
<h3 id="3-3-进程创建与启动的代码"><a href="#3-3-进程创建与启动的代码" class="headerlink" title="3.3 进程创建与启动的代码"></a>3.3 进程创建与启动的代码</h3><p>如果有一个程序：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sing</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;唱歌&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dance</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;跳舞&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    sing()</span><br><span class="line">    dance()</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">唱歌</span><br><span class="line">唱歌</span><br><span class="line">唱歌</span><br><span class="line">跳舞</span><br><span class="line">跳舞</span><br><span class="line">跳舞</span><br></pre></td></tr></table></figure>

<p>这个程序需要执行6次，花费3秒时间。现在对程序进行改写，让其1.5秒内执行完毕。</p>
<p>对<code>main</code>函数进行修改，并导入：<code>import multiprocessing </code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子进程</span></span><br><span class="line">    sing_process = multiprocessing.Process(target=sing)</span><br><span class="line">    dance_process = multiprocessing.Process(target=dance)</span><br><span class="line">    <span class="comment"># 启动进程</span></span><br><span class="line">    sing_process.start()</span><br><span class="line">    dance_process.start()</span><br></pre></td></tr></table></figure>

<p>程序只执行三次，每一次都是唱歌和跳舞同时执行，用时1.5秒。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">跳舞</span><br><span class="line">唱歌</span><br><span class="line">跳舞</span><br><span class="line">唱歌</span><br><span class="line">跳舞</span><br><span class="line">唱歌</span><br></pre></td></tr></table></figure>

<h2 id="4-进程执行带有参数的任务"><a href="#4-进程执行带有参数的任务" class="headerlink" title="4 进程执行带有参数的任务"></a>4 进程执行带有参数的任务</h2><h3 id="4-1-参数"><a href="#4-1-参数" class="headerlink" title="4.1 参数"></a>4.1 参数</h3><table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>args</code></td>
<td>以元组的方式给执行任务传参</td>
</tr>
<tr>
<td><code>kwargs</code></td>
<td>以字典方式给执行任务传参</td>
</tr>
</tbody></table>
<h3 id="4-2-args参数的使用"><a href="#4-2-args参数的使用" class="headerlink" title="4.2 args参数的使用"></a>4.2 <code>args</code>参数的使用</h3><p>元组方式传参：元组方式传参一定要和参数的顺序保持一致。</p>
<h3 id="4-3-kwargs参数的使用"><a href="#4-3-kwargs参数的使用" class="headerlink" title="4.3 kwargs参数的使用"></a>4.3 kwargs参数的使用</h3><p>字典方式传参：字典方式传参字典中的<code>key</code>一定要和参数名保持一致。</p>
<p>改写例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sing</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;唱歌&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dance</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;跳舞&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子进程</span></span><br><span class="line">    <span class="comment"># args:表示以元组的方式给函数传参,元组的元素顺序必须和函数参数的顺序一致</span></span><br><span class="line">    sing_process = multiprocessing.Process(target=sing, args=(<span class="number">3</span>,))</span><br><span class="line">    <span class="comment"># kwargs:表示以字典的方式给函数传参，字典的键对应函数的形参，值对应实参</span></span><br><span class="line">    dance_process = multiprocessing.Process(target=dance, kwargs=&#123;<span class="string">&#x27;num&#x27;</span>: <span class="number">2</span>&#125;)</span><br><span class="line">    <span class="comment"># 启动进程</span></span><br><span class="line">    sing_process.start()</span><br><span class="line">    dance_process.start()</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">唱歌</span><br><span class="line">跳舞</span><br><span class="line">唱歌</span><br><span class="line">跳舞</span><br><span class="line">唱歌</span><br></pre></td></tr></table></figure>

<h2 id="5-获取进程编号"><a href="#5-获取进程编号" class="headerlink" title="5 获取进程编号"></a>5 获取进程编号</h2><p>进程编号的作用：当程序中进程的数量越来越多时，如果没有办法区分主进程和子进程还有不同的子进程，那么就无法进行有效的进程管理，为了方便管理实际上每个进程都是有自己编号的。</p>
<h3 id="5-1-获取进程编号的两种方式"><a href="#5-1-获取进程编号的两种方式" class="headerlink" title="5.1 获取进程编号的两种方式"></a>5.1 获取进程编号的两种方式</h3><p><code>import os</code></p>
<ol>
<li><p>获取当前进程编号</p>
<p> <code>os.getpid()</code></p>
</li>
<li><p>获取当前父进程编号</p>
<p> <code>os.getppid()</code></p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sing</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;唱歌进程的pid：&#x27;</span>, os.getpid())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;唱歌进程的ppid：&#x27;</span>, os.getppid())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;唱歌&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dance</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;跳舞进程的pid：&#x27;</span>, os.getpid())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;跳舞进程的ppid：&#x27;</span>, os.getppid())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;跳舞&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 主进程，也是两个子进程（唱歌、跳舞）的父进程</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;主进程的pid为：&#x27;</span>, os.getpid())</span><br><span class="line">    <span class="comment"># 创建子进程对象并指定执行的任务名：函数名</span></span><br><span class="line">    sing_process = multiprocessing.Process(target=sing, args=(<span class="number">3</span>,))</span><br><span class="line">    dance_process = multiprocessing.Process(target=dance, kwargs=&#123;<span class="string">&#x27;num&#x27;</span>: <span class="number">2</span>&#125;)</span><br><span class="line">    <span class="comment"># 启动子进程并执行任务</span></span><br><span class="line">    sing_process.start()</span><br><span class="line">    dance_process.start()</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">主进程的pid为： 12988</span><br><span class="line">唱歌进程的pid： 16980</span><br><span class="line">跳舞进程的pid： 12912</span><br><span class="line">唱歌进程的ppid： 12988</span><br><span class="line">跳舞进程的ppid： 12988</span><br><span class="line">跳舞</span><br><span class="line">唱歌</span><br><span class="line">跳舞</span><br><span class="line">唱歌</span><br><span class="line">唱歌</span><br></pre></td></tr></table></figure>

<h2 id="6-进程的注意点"><a href="#6-进程的注意点" class="headerlink" title="6 进程的注意点"></a>6 进程的注意点</h2><h3 id="6-1-主进程会等待所有的子进程执行结束再结束"><a href="#6-1-主进程会等待所有的子进程执行结束再结束" class="headerlink" title="6.1 主进程会等待所有的子进程执行结束再结束"></a>6.1 主进程会等待所有的子进程执行结束再结束</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work</span>():</span><br><span class="line">    <span class="comment"># 子进程会工作2秒</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;工作中···········&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子进程</span></span><br><span class="line">    work_process = multiprocessing.Process(target=work)</span><br><span class="line">    work_process.start()</span><br><span class="line">    <span class="comment"># 让主进程等待一秒钟</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;主进程执行完毕&#x27;</span>)</span><br><span class="line">    <span class="comment"># 主进程会等待所有的子进程执行完成之后程序再退出</span></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">主进程执行完毕</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br></pre></td></tr></table></figure>

<p>但是结果并不是所有的子进程结束之后才会执行主进程，因此需要进行更改。</p>
<h3 id="6-2-设置守护主进程"><a href="#6-2-设置守护主进程" class="headerlink" title="6.2 设置守护主进程"></a>6.2 设置守护主进程</h3><p>改写上面的代码：在15行子进程启动前加入以下代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 子进程会去守护主进程——主进程结束，子进程自动销毁，不再执行子进程代码</span></span><br><span class="line">work_process.daemon = <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>再次执行，输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">工作中···········</span><br><span class="line">主进程执行完毕</span><br></pre></td></tr></table></figure>

<h3 id="6-3-知识要点"><a href="#6-3-知识要点" class="headerlink" title="6.3 知识要点"></a>6.3 知识要点</h3><p>为了保证子进程能够正常的运行，主进程会等所有的子进程执行完成以后再销毁，设置守护主进程的目的是主<strong>进程退出子进程销毁</strong>，不让主进程再等待子进程去执行。</p>
<p>设置守护主进程方式：<code>子进程对象.daemon = True</code></p>
<h2 id="7-线程"><a href="#7-线程" class="headerlink" title="7 线程"></a>7 线程</h2><h3 id="7-1-实现多任务的另一种形式"><a href="#7-1-实现多任务的另一种形式" class="headerlink" title="7.1 实现多任务的另一种形式"></a>7.1 实现多任务的另一种形式</h3><p>在Python中，想要实现多任务还可以使用多线程来完成。</p>
<h3 id="7-2-为什么使用多线程？"><a href="#7-2-为什么使用多线程？" class="headerlink" title="7.2 为什么使用多线程？"></a>7.2 为什么使用多线程？</h3><p>进程是<strong>分配资源的最小单位</strong>，一旦创建一个进程就会分配一定的资源，就像跟两个人聊QQ就需要打开两个QQ软件一样是比较浪费资源的。<br>线程是<strong>程序执行的最小单位</strong>，实际上进程只负责分配资源，而利用这些资源执行程序的是线程，也就说<strong>进程是线程的容器</strong>，一个进程中最少有一个线程来负责执行程序。同时线程自己不拥有系统资源，只需要一点儿在运行中必不可少的资源，但它可与<strong>同属一个进程的其它线程共享进程所拥有的全部资源</strong>。这就像通过一个QQ软件（一个进程）打开两个窗口（两个线程）跟两个人聊天一样，实现多任务的同时也节省了资源。</p>
<h3 id="7-3-多线程的作用"><a href="#7-3-多线程的作用" class="headerlink" title="7.3 多线程的作用"></a>7.3 多线程的作用</h3><img src="/2022/03/10/15-10-%E5%86%85%E7%BD%AE%E5%BA%93-%E5%A4%9A%E7%BA%BF%E7%A8%8Bthreding/image-20220310150046074.png" alt="image-20220310150046074" style="zoom: 33%;">

<h2 id="8-多线程完成多任务"><a href="#8-多线程完成多任务" class="headerlink" title="8 多线程完成多任务"></a>8 多线程完成多任务</h2><h3 id="8-1-线程的创建步骤"><a href="#8-1-线程的创建步骤" class="headerlink" title="8.1 线程的创建步骤"></a>8.1 线程的创建步骤</h3><ol>
<li><p>导入线程包</p>
<p> <code>import threading</code></p>
</li>
<li><p>通过线程类创建进程对象</p>
<p> <code>线程对象 = threading.Thread(target = 任务名)</code></p>
</li>
<li><p>启动线程执行任务</p>
<p> <code>线程对象.start()</code></p>
</li>
</ol>
<h3 id="8-2-通过线程类创建线程对象"><a href="#8-2-通过线程类创建线程对象" class="headerlink" title="8.2 通过线程类创建线程对象"></a>8.2 通过线程类创建线程对象</h3><table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>target</td>
<td>执行的目标任务名，这里指的是函数名（方法名）</td>
</tr>
<tr>
<td>name</td>
<td>线程名，一般不用设置</td>
</tr>
<tr>
<td>group</td>
<td>线程组，目前只能使用None</td>
</tr>
</tbody></table>
<h3 id="8-3-线程创建与启动的代码"><a href="#8-3-线程创建与启动的代码" class="headerlink" title="8.3 线程创建与启动的代码"></a>8.3 线程创建与启动的代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sing</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;唱歌&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dance</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;跳舞&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建子线程</span></span><br><span class="line">    sing_thread = threading.Thread(target=sing)</span><br><span class="line">    dance_thread = threading.Thread(target=dance)</span><br><span class="line">    <span class="comment"># 启动线程</span></span><br><span class="line">    sing_thread.start()</span><br><span class="line">    dance_thread.start()</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">唱歌</span><br><span class="line">跳舞</span><br><span class="line">跳舞</span><br><span class="line">唱歌</span><br><span class="line">跳舞</span><br><span class="line">唱歌</span><br></pre></td></tr></table></figure>

<p>程序只执行三次，每一次都是唱歌和跳舞同时执行。</p>
<h2 id="9-线程执行带有参数的任务"><a href="#9-线程执行带有参数的任务" class="headerlink" title="9 线程执行带有参数的任务"></a>9 线程执行带有参数的任务</h2><h3 id="9-1-参数"><a href="#9-1-参数" class="headerlink" title="9.1 参数"></a>9.1 参数</h3><table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>args</code></td>
<td>以元组的方式给执行任务传参</td>
</tr>
<tr>
<td><code>kwargs</code></td>
<td>以字典方式给执行任务传参</td>
</tr>
</tbody></table>
<h3 id="9-2-args参数的使用"><a href="#9-2-args参数的使用" class="headerlink" title="9.2 args参数的使用"></a>9.2 <code>args</code>参数的使用</h3><p>元组方式传参：元组方式传参一定要和参数的顺序保持一致。</p>
<h3 id="9-3-kwargs参数的使用"><a href="#9-3-kwargs参数的使用" class="headerlink" title="9.3 kwargs参数的使用"></a>9.3 kwargs参数的使用</h3><p>字典方式传参：字典方式传参字典中的<code>key</code>一定要和参数名保持一致。</p>
<h2 id="10-主线程和子线程的结束顺序"><a href="#10-主线程和子线程的结束顺序" class="headerlink" title="10 主线程和子线程的结束顺序"></a>10 主线程和子线程的结束顺序</h2><p>对比进程：主线程会等待所有的子线程执行结束后主线程再结束。</p>
<h3 id="10-1-设置守护主线程"><a href="#10-1-设置守护主线程" class="headerlink" title="10.1 设置守护主线程"></a>10.1 设置守护主线程</h3><p>要想主线程不等待子线程执行完成可以设置守护主线程。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;工作············&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建子线程</span></span><br><span class="line">    work_thread = threading.Thread(target=work, daemon=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># 启动线程</span></span><br><span class="line">    work_thread.start()</span><br><span class="line">    <span class="comment"># 主线程等待一秒后，结束</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;主线程结束了&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">工作············</span><br><span class="line">工作············</span><br><span class="line">工作············</span><br><span class="line">工作············</span><br><span class="line">工作············</span><br><span class="line">主线程结束了</span><br></pre></td></tr></table></figure>

<h2 id="11-线程间的执行顺序"><a href="#11-线程间的执行顺序" class="headerlink" title="11 线程间的执行顺序"></a>11 线程间的执行顺序</h2><p>线程之间执行是无序的，是由<strong>CPU调度决定某个线程先执行</strong>的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work</span>():</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># current_thread()：获取当前线程的线程对象</span></span><br><span class="line">    thread = threading.current_thread()</span><br><span class="line">    <span class="built_in">print</span>(thread)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        sub_thread = threading.Thread(target=work)</span><br><span class="line">        sub_thread.start()</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Thread(Thread-5 (work), started 24344)&gt;&lt;Thread(Thread-2 (work), started 1452)&gt;</span><br><span class="line">&lt;Thread(Thread-3 (work), started 19044)&gt;</span><br><span class="line">&lt;Thread(Thread-4 (work), started 19784)&gt;</span><br><span class="line"></span><br><span class="line">&lt;Thread(Thread-1 (work), started 5236)&gt;</span><br></pre></td></tr></table></figure>

<h2 id="12-进程和线程对比"><a href="#12-进程和线程对比" class="headerlink" title="12 进程和线程对比"></a>12 进程和线程对比</h2><h3 id="12-1-关系对比"><a href="#12-1-关系对比" class="headerlink" title="12.1 关系对比"></a>12.1 关系对比</h3><ul>
<li>线程是依附在进程里面的，没有进程就没有线程</li>
<li>一个进程默认提供一条线程，进程可以创建多个线程</li>
</ul>
<h3 id="12-2-区别对此"><a href="#12-2-区别对此" class="headerlink" title="12.2 区别对此"></a>12.2 区别对此</h3><ul>
<li>创建进程的资源开销要比创建线程的资源开销要大</li>
<li>进程是操作系统资源分配的基本单位，线程是CPU调度的基本单位</li>
<li>线程不能够独立执行，必须依存在进程中</li>
</ul>
<h3 id="12-3-优缺点对比"><a href="#12-3-优缺点对比" class="headerlink" title="12.3 优缺点对比"></a>12.3 优缺点对比</h3><ul>
<li>进程优缺点：<ul>
<li>优点：可以用多核</li>
<li>缺点：资源开销大</li>
</ul>
</li>
<li>线程优缺点：<ul>
<li>优点：资源开销小</li>
<li>缺点：不可用多核</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="杨艺琳"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">杨艺琳</p>
  <div class="site-description" itemprop="description">我就是这条街最靓的仔</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">66</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">杨艺琳</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
